const itemsPerPage=18;let currentPage=1,jsonData=[];function updatePopupContent(e){const t=document.querySelector(".description-card_popap"),a=document.querySelector(".new-price-popap"),r=document.querySelector(".code-card_popap"),n=document.querySelector(".price-popap"),c=document.querySelector(".main-card-img"),o=document.querySelector(".small-img-first"),i=document.querySelector(".small-img-second"),l=document.querySelector(".small-img-last"),s=document.querySelector(".choise-color_popap"),d=document.querySelector(".descript-popap"),u=e=>document.querySelector(e),p={descriptPopap:u(".descript-popap"),producerCard:u(".producer-card_popap"),countryCard:u(".country-card_popap"),kindCard:u(".kind-card_popap"),seasonCard:u(".season-card_popap"),materialTop:u(".material-top_popap"),materialBottom:u(".material-bottom_popap"),materialSole:u(".material-sole_popap"),styleCard:u(".style-card_popap")},m=(e,t,a)=>{const r=document.createElement("p");r.innerText=t;const n=document.createElement("p");n.innerText=a,n.classList.add("bold-card"),e.appendChild(r),e.appendChild(n)};m(p.producerCard,"виробник",e.technicalHaracteristic.producer),m(p.countryCard,"країна виробник",e.technicalHaracteristic.country),m(p.kindCard,"вид взуття",e.technicalHaracteristic.kind),m(p.seasonCard,"сезон",e.technicalHaracteristic.seasonHaract),m(p.materialTop,"матеріал верху",e.technicalHaracteristic.materialTop),m(p.materialBottom,"матеріал підкладки",e.technicalHaracteristic.materialBottom),m(p.materialSole,"матеріал підошви",e.technicalHaracteristic.materialSole),m(p.styleCard,"стиль",e.technicalHaracteristic.styleCard),t.innerText=e.head,a.innerText=e.price,r.innerText=e.id,n.innerText=e.saleprice,c.src=e.images.img,c.alt=e.images.alt,o.src=e.images.imgPopap1,o.alt=e.images.altPopap1,i.src=e.images.imgPopap2,i.alt=e.images.altPopap2,l.src=e.images.imgPopap3,l.alt=e.images.altPopap3,c.addEventListener("click",(function(){!function(e,t){const a=document.createElement("div"),r=document.createElement("a"),n=document.createElement("img"),c=document.querySelector(".open-img");c&&c.remove(),a.classList.add("open-img"),n.setAttribute("loading","lazy"),n.src=e,n.alt=t,r.classList.add("cancel-size-popap"),r.setAttribute("href","#"),r.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.267146 0.181446C0.506963 -0.0604821 0.895783 -0.0604821 1.1356 0.181446L5 4.07987L8.8644 0.181446C9.10422 -0.0604821 9.49304 -0.0604821 9.73285 0.181446C9.97267 0.423375 9.97267 0.815619 9.73285 1.05755L5.86845 4.95597L9.82014 8.94245C10.06 9.18438 10.06 9.57662 9.82014 9.81855C9.58032 10.0605 9.1915 10.0605 8.95168 9.81855L5 5.83207L1.04832 9.81855C0.8085 10.0605 0.419679 10.0605 0.179863 9.81855C-0.0599542 9.57662 -0.0599542 9.18438 0.179863 8.94245L4.13155 4.95597L0.267146 1.05755C0.0273296 0.815619 0.0273296 0.423375 0.267146 0.181446Z" fill="#4E98B6"/>\n                </svg>\n            ',bgSizeDark.style.display="block",a.appendChild(n),a.appendChild(r),productPopup.appendChild(a),r.addEventListener("click",(function(){bgSizeDark.style.display="none",a.remove()})),bgSizeDark.addEventListener("click",(function(){bgSizeDark.style.display="none",a.remove()}))}(c.src,c.alt)}));let g=!1;o.addEventListener("click",(function(){g?(c.src=e.images.img,c.alt=e.images.alt,o.src=e.images.imgPopap1,o.alt=e.images.altPopap1):(c.src=e.images.imgPopap1,c.alt=e.images.altPopap1,o.src=e.images.img,o.alt=e.images.alt),i.src=e.images.imgPopap2,i.alt=e.images.altPopap2,l.src=e.images.imgPopap3,l.alt=e.images.altPopap3,g=!g}));let h=!1;i.addEventListener("click",(function(){h?(c.src=e.images.img,c.alt=e.images.alt,i.src=e.images.imgPopap2,i.alt=e.images.altPopap2):(c.src=e.images.imgPopap2,c.alt=e.images.altPopap2,i.src=e.images.img,i.alt=e.images.alt),o.src=e.images.imgPopap1,o.alt=e.images.altPopap1,l.src=e.images.imgPopap3,l.alt=e.images.altPopap3,h=!h}));let y=!1;l.addEventListener("click",(function(){y?(c.src=e.images.img,c.alt=e.images.alt,l.src=e.images.imgPopap3,l.alt=e.images.altPopap3,o.src=e.images.imgPopap1,o.alt=e.images.altPopap1,i.src=e.images.imgPopap2,i.alt=e.images.altPopap2):(c.src=e.images.imgPopap3,c.alt=e.images.altPopap3,l.src=e.images.img,l.alt=e.images.alt),o.src=e.images.imgPopap1,o.alt=e.images.altPopap1,i.src=e.images.imgPopap2,i.alt=e.images.altPopap2,y=!y}));const f=document.createElement("ol"),P=document.createElement("p");d.appendChild(P),P.innerText=e.descript;const v=[e.list1,e.list2,e.list3,e.list4,e.list5,e.list6].filter(Boolean);for(const e of v){const t=document.createElement("li");t.innerText=e,f.appendChild(t)}if(d.appendChild(f),e.bottomDescript){const t=document.createElement("p");t.innerText=e.bottomDescript,d.appendChild(t)}const S=document.querySelector(".choise-size_popap");["40","41","42","43","44","45"].forEach((t=>{const a=document.createElement("input");a.type="checkbox",a.id=`popup-input-${e.id}-${t}`,a.name="size-popap",a.value=t;const r=document.createElement("label");r.classList.add(`label${t}`),r.setAttribute("for",`popup-input-${e.id}-${t}`),r.innerText=t,e.size.includes(t)||(a.disabled=!0),S.appendChild(a),S.appendChild(r)}));const L=document.createElement("form");L.classList.add("color-form-popap"),s.appendChild(L);const E=document.createElement("style");document.head.appendChild(E);Object.keys(e.color).forEach((function(t){const a=t+"-popap-"+e.id,r=document.createElement("input");r.type="radio",r.id=a,r.name="color-popap",r.value=t;const n=document.createElement("label");let c;n.htmlFor=a,n.classList.add(t),L.appendChild(r),L.appendChild(n),c="white"==t?`\n                    input + label.${t}::before {\n                        width: 14rem;\n                        height: 14rem;\n                        background-color: ${t};\n                        border: 0.5rem solid #ccc;\n                    }\n                `:`\n                    input + .${t}::before {\n                        width: 15rem;\n                        height: 15rem;\n                        background-color: ${t};\n                    }\n                `,E.sheet.insertRule(c,E.sheet.cssRules.length)}));const b=document.querySelector(".min-count_card"),q=document.querySelector(".max-count_card"),C=document.querySelector(".num-count-card");let w=1;b.addEventListener("click",(()=>{w>1&&(w--,C.innerText=w)})),q.addEventListener("click",(()=>{w<10&&(w++,C.innerText=w)}));let k=e.category;sameCard.innerHTML="",displaySimilarProducts(jsonData,k,sameCard,4);let T=document.querySelector(".cta-popap");T.setAttribute("data-value",e.id),T.addEventListener("click",(function(e){e.preventDefault()})),btnSimilar()}function displaySimilarProducts(e,t,a,r){let n=0,c=!1;const o=document.querySelector(".text-same-card");e.forEach((e=>{if(n<r&&t&&e.category===t&&openedProductId!==e.id){const t=createCardElement(e);a.appendChild(t),n++,c=!0}})),c||(o.innerText="Нажаль схожих товарів не знайдено.",a.appendChild(o))}function clearPopup(){const e=document.querySelector(".choise-size_popap"),t=document.querySelector(".choise-color_popap"),a=document.querySelector(".same-card"),r=document.querySelector(".descript-popap"),n=document.querySelector(".producer-card_popap"),c=document.querySelector(".country-card_popap"),o=document.querySelector(".kind-card_popap"),i=document.querySelector(".season-card_popap"),l=document.querySelector(".material-top_popap"),s=document.querySelector(".material-bottom_popap"),d=document.querySelector(".material-sole_popap"),u=document.querySelector(".style-card_popap");e.innerHTML="",r.innerHTML="",n.innerHTML="",c.innerHTML="",o.innerHTML="",i.innerHTML="",l.innerHTML="",s.innerHTML="",d.innerHTML="",c.innerHTML="",u.innerHTML="";const p=document.querySelector(".color-form-popap");p&&p.parentNode===t&&t.removeChild(p),availableColors=[],a&&(a.innerHTML="")}function openPopup(e,t){if(t){openedProductId=t;const e=jsonData.find((e=>e.id===t));e&&(clearPopup(),updatePopupContent(e),productPopup.style.display="grid")}else console.error("error")}function createInputRange(){const e=document.querySelectorAll(".range-input input"),t=document.querySelectorAll(".price-input input"),a=document.querySelector(".slider .progress"),r=Math.min(...jsonData.map((e=>parseInt(e.price)))),n=Math.max(...jsonData.map((e=>parseInt(e.price))));t.forEach((c=>{t[0].setAttribute("value",r),t[1].setAttribute("value",n),c.addEventListener("input",(r=>{let n=parseInt(t[0].value),c=parseInt(t[1].value);c-n>=10&&c<=e[1].max&&("input-min"===r.target.className?(e[0].value=n,a.style.left=n/e[0].max*100+"%"):(e[1].value=c,a.style.right=100-c/e[1].max*100+"%"))}))})),e.forEach((c=>{e[0].setAttribute("value",r),e[1].setAttribute("value",n),e[0].setAttribute("min",r),e[0].setAttribute("max",n),e[1].setAttribute("min",r),e[1].setAttribute("max",n),c.addEventListener("input",(r=>{let n=parseInt(e[0].value),c=parseInt(e[1].value);c-n<10?"range-min"===r.target.className?e[0].value=c-10:e[1].value=n+10:(t[0].value=n,t[1].value=c,a.style.left=n/e[0].max*100+"%",a.style.right=100-c/e[1].max*100+"%")}))}))}function createInputsForSizeKeys(e){const t=document.querySelector(".check-size"),a=document.querySelector(".color-filter");let r=[];jsonData.forEach((e=>{e.size&&Array.isArray(e.size)&&e.size.forEach((e=>{if(!r.includes(e)){r.push(e);const a=document.createElement("input"),n=document.createElement("label");a.setAttribute("type","checkbox"),a.setAttribute("name","size"),a.setAttribute("id",e),a.setAttribute("value",e),n.setAttribute("for",e),n.innerText=e,t.appendChild(a),t.appendChild(n)}}))}));let n=[];function c(e,t,a){const r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("name",t),r.setAttribute("id",`${t}-${e}`),r.setAttribute("value",e);const n=document.createElement("label");n.setAttribute("for",`${t}-${e}`),n.innerText=e,a.appendChild(r),a.appendChild(n)}jsonData.forEach((e=>{const t=e.color||{};Object.values(t).forEach((e=>{if(!n.includes(e)){n.push(e);const t=document.createElement("input"),r=document.createElement("label");t.setAttribute("type","checkbox"),t.setAttribute("name","color"),t.setAttribute("id",e),t.setAttribute("value",e),r.setAttribute("for",e),r.innerText=e,a.appendChild(t),a.appendChild(r)}}))}));let o=[],i=[],l=[];jsonData.forEach((e=>{e.material&&(o=o.concat(Array.isArray(e.material)?e.material:[e.material])),e.model&&i.push(e.model),e.style&&l.push(e.style)})),o=[...new Set(o)],i=[...new Set(i)],l=[...new Set(l)];const s=document.querySelector(".material");o.forEach((e=>c(e,"material",s)));const d=document.querySelector(".model");i.forEach((e=>c(e,"model",d)));const u=document.querySelector(".style");l.forEach((e=>c(e,"style",u)))}function fetchData(){fetch("products.json").then((e=>e.json())).then((e=>{jsonData=e,totalPages=Math.ceil(jsonData.length/itemsPerPage),showData(currentPage),showPagination(currentPage),updateProductDisplay(selectedCategory);document.querySelector('a.bottom-cart-season[data-href="all"]').addEventListener("click",(function(e){e.preventDefault();displayProducts(jsonData.filter((e=>""!==e.saleprice)),productList),resetFilters()})),createInputsForSizeKeys(jsonData[0]),createInputRange()})).catch((e=>console.error("Помилка завантаження даних:",e)))}function showData(e){const t=localStorage.getItem("lastSelectedCategory")||"all";let a;const r=localStorage.getItem("filteredProducts");a=r?JSON.parse(r):jsonData.filter((e=>"all"===t||e.category===t)),totalItems=a.length,totalPages=Math.ceil(totalItems/itemsPerPage);const n=(e-1)*itemsPerPage,c=n+itemsPerPage;displayProducts(a.slice(n,c),productList),showPagination(e)}function displayProducts(e,t){t.innerHTML="";for(let a=0;a<Math.min(e.length,18);a++){const r=createCardElement(e[a]);t.appendChild(r)}}const productList=document.querySelector(".card-bott"),categoryFilter=document.querySelector(".filter-season"),productPopup=document.querySelector(".popap-card"),sameCard=document.querySelector(".same-card");function showPagination(e){var t=document.querySelector("#pagination");t.innerHTML="";let a=Math.ceil(totalItems/itemsPerPage);if(a>1){t.appendChild(createButton("←","arrow-pag prev",(function(){currentPage>1&&(currentPage--,showData(currentPage),showPagination(currentPage),updatePaginationButtons(),updateProductFilter())})));const e=4,r=Math.floor(e/2),n=Math.max(1,currentPage-r),c=Math.min(a,n+e-1);n>1&&(t.appendChild(createButton(1,"",(function(){currentPage=1,showData(currentPage),showPagination(currentPage),updatePaginationButtons(),updateProductFilter()}))),n>2&&t.appendChild(createButton("...","ellipsis",(function(){}))));for(let e=n;e<=c;e++)!function(e){t.appendChild(createButton(e,e===currentPage?"active":"",(function(){currentPage=e,showData(currentPage),showPagination(currentPage),updatePaginationButtons(),updateProductFilter()})))}(e);c<a&&(c<a-1&&t.appendChild(createButton("...","ellipsis",(function(){}))),t.appendChild(createButton(a,"",(function(){currentPage=a,showData(currentPage),showPagination(currentPage),updatePaginationButtons(),updateProductFilter()})))),t.appendChild(createButton("→","arrow-pag next",(function(){currentPage<a&&(currentPage++,showData(currentPage),showPagination(currentPage),updatePaginationButtons(),updateProductFilter())})))}}function createCardElement(e){const t=document.createElement("figure"),a=document.createElement("figcaption");if(""!==e.saleprice){const t=document.createElement("span"),r=100-100*parseFloat(e.price)/parseFloat(e.saleprice);t.classList.add("card-flag"),t.innerText=`sale -${r.toFixed(0)}%`,a.appendChild(t)}t.classList.add("card-box",e.category),t.dataset.sizes=JSON.stringify(e.size),t.dataset.colors=JSON.stringify(Object.values(e.color)),t.dataset.model=e.model,t.dataset.material=e.material,t.dataset.style=e.style,t.dataset.price=e.price,t.appendChild(a);const r=document.createElement("a");r.classList.add("click-card"),r.href="#",r.setAttribute("data-value",e.id),r.addEventListener("click",(function(t){t.preventDefault(),openPopup(t,e.id),cart()})),a.appendChild(r);const n=document.createElement("img");n.src=e.images.img,n.alt=e.images.alt,n.setAttribute("data-src",e.images.img),n.setAttribute("data-alt",e.images.alt),n.setAttribute("loading","lazy"),a.appendChild(n);const c=document.createElement("h2");c.classList.add("header-card"),c.innerText=e.head,a.appendChild(c);const o=document.createElement("p");o.classList.add("old-price"),o.innerText=e.saleprice,a.appendChild(o);const i=document.createElement("p"),l=parseInt(e.price.replace(/\D/g,""));t.dataset.price=l,i.classList.add("new-price"),i.innerText=e.price,a.appendChild(i);const s=document.createElement("div");s.classList.add("input-block"),a.appendChild(s);["40","41","42","43","44","45"].forEach((t=>{const a=document.createElement("input");a.type="checkbox",a.name="size-popap",a.id=`input-${e.id}-${t}`,a.value=t;const r=document.createElement("label");r.classList.add(`label${t}`),r.setAttribute("for",`input-${e.id}-${t}`),r.innerText=t,e.size.includes(t)||(a.disabled=!0),s.appendChild(a),s.appendChild(r)}));const d=document.createElement("a");return d.classList.add("cta-card"),d.setAttribute("data-value",e.id),d.innerText="купити",d.href="#",a.appendChild(d),t}function updateProductDisplay(e){displayProducts(jsonData.filter((t=>"all"===e||t.category===e)),productList),showData(currentPage),showPagination(currentPage)}const minPrice=parseInt(document.querySelector(".input-min").value),maxPrice=parseInt(document.querySelector(".input-max").value),selectedCategory=localStorage.getItem("lastSelectedCategory")||"all";document.addEventListener("DOMContentLoaded",(function(){function e(){console.log(document.querySelectorAll(".cta-card")),document.querySelector(".same-card").innerHTML="",document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const a=this.getAttribute("data-value"),r=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${a}"]:checked`).forEach((e=>{r.push(e.value)})),buyBtnFunc(e,r)}))}))}const t=document.querySelector(".mobile-filter"),a=document.querySelector(".filter"),r=document.querySelector(".cancel-filter");t.addEventListener("click",(function(e){e.preventDefault(),a.classList.add("active-filter")})),r.addEventListener("click",(function(e){e.preventDefault(),a.classList.remove("active-filter")}));const n=document.querySelectorAll(".select");n.forEach((e=>{const t=e.querySelector(".select__in"),a=e.querySelectorAll(".select__item"),r=e.querySelector(".select__input"),c=new Event("change");t.addEventListener("click",(()=>{n.forEach((t=>{t!==e&&t.classList.remove("is-opened")})),e.classList.toggle("is-opened")})),a.forEach((n=>{n.addEventListener("click",(()=>{r.value=n.dataset.value,r.dispatchEvent(c),t.innerHTML=n.innerHTML,a.forEach((e=>{e.classList.remove("is-active")})),n.classList.add("is-active"),e.classList.remove("is-opened")}))}))})),document.addEventListener("click",(e=>{e.target.closest(".select")||n.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),document.addEventListener("keyup",(e=>{"Escape"==e.key&&n.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),orders.orderSumWithNoDiscount=0,orders.orderSumWithDiscount=0,orders.orderSum=0;document.querySelector(".back-to-main").addEventListener("click",(function(e){e.preventDefault(),productPopup.style.display="none",document.querySelector(".same-card").innerHTML="",sameCard.innerHTML=""}));let c=null,o={};document.querySelectorAll(".input-min, .input-max").forEach((e=>{e.addEventListener("input",(function(e){e.preventDefault(),i(),l()}))}));function i(){c&&(c.remove(),c=null)}function l(){currentPage=1;const e=parseInt(document.querySelector(".input-min").value),t=parseInt(document.querySelector(".input-max").value),a=localStorage.getItem("lastSelectedCategory")||"all",r=jsonData.filter((r=>{document.querySelector(`[data-value="${r.id}"]`);return d(r,e,t,a,o)}));i(),showData(currentPage),showPagination(currentPage),s(),updateProductDisplay(r),displayProducts(r,productList)}async function s(){const e=parseInt(document.querySelector(".input-min").value),t=parseInt(document.querySelector(".input-max").value),a=localStorage.getItem("lastSelectedCategory")||"all",r=jsonData.filter((r=>d(r,e,t,a,o)));localStorage.setItem("filteredProducts",JSON.stringify(r));let n=r.length>0;for(const r of jsonData){if(document.querySelector(`[data-value="${r.id}"]`)){d(r,e,t,a,o)&&(n=!0)}}if(!n){const e=document.querySelector(".card-block");c=document.createElement("div"),c.classList.add("any-block");const t=document.createElement("span");t.classList.add("icon-no-card"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M280-80q-83 0-141.5-58.5T80-280q0-83 58.5-141.5T280-480q83 0 141.5 58.5T480-280q0 83-58.5 141.5T280-80Zm544-40L568-376q-12-13-25.5-26.5T516-428q38-24 61-64t23-88q0-75-52.5-127.5T420-760q-75 0-127.5 52.5T240-580q0 6 .5 11.5T242-557q-18 2-39.5 8T164-535q-2-11-3-22t-1-23q0-109 75.5-184.5T420-840q109 0 184.5 75.5T680-580q0 43-13.5 81.5T629-428l251 252-56 56Zm-615-61 71-71 70 71 29-28-71-71 71-71-28-28-71 71-71-71-28 28 71 71-71 71 28 28Z"/></svg>';const a=document.createElement("p");a.classList.add("no-card"),a.innerText="Нажаль, за вашим вибором не знайдено жодного товару",c.appendChild(t),c.appendChild(a),e.appendChild(c)}}function d(e,t,a,r,n){const c=parseFloat(e.price)||0,o=e.category,i=function(e,t,a){return e>=t&&e<=a}(c,t,a),l="all"===r||o===r,s=Object.keys(n).every((t=>{const a=e[t];if("color"===t){const a=Array.isArray(e.color)?e.color:Object.values(e.color||{});return n[t].some((e=>a.includes(e)))}return Array.isArray(a)?a.some((e=>n[t].includes(e))):n[t].includes(a)}));return i&&l&&s}document.querySelector(".filter").addEventListener("change",(function(t){t.preventDefault(),inputBlock=document.querySelectorAll(".card-bott input[type='checkbox'"),inputBlock.forEach((e=>{e.checked=!1,i()}));const a=t.target;if("INPUT"===a.tagName&&"checkbox"===a.type&&a.closest(".filter")){document.querySelectorAll("input[type='checkbox']:checked").forEach((e=>{const t=e.name,a=e.value;o[t]||(o[t]=[]),o[t].includes(a)||o[t].push(a)}));document.querySelectorAll("input[type='checkbox']:not(:checked)").forEach((e=>{const t=e.name,a=e.value;if(o[t]){const e=o[t].indexOf(a);-1!==e&&o[t].splice(e,1),0===o[t].length&&delete o[t]}}));const e=jsonData.filter((e=>d(e,minPrice,maxPrice,m,o)));i(),showData(currentPage),showPagination(currentPage),s(),updateProductDisplay(e),displayProducts(e,productList)}l(),e()})),showData(currentPage),localStorage.removeItem("filteredProducts");const u=document.querySelectorAll(".card-cta-season"),p=document.querySelectorAll(".bottom-cart-season");categoryFilter.addEventListener("change",(t=>{t.preventDefault(),"INPUT"===t.target.tagName&&"checkbox"===t.target.type&&t.target.closest(".filter")&&(updateProductDisplay(m),i()),showData(currentPage),showPagination(currentPage),setTimeout(e(),0)}));let m=localStorage.getItem("lastSelectedCategory")||"all";const g=new URLSearchParams(window.location.search);urlCategory=g.get("category"),urlHash=window.location.hash,selectedHash=urlHash||"#catalog",u.forEach((e=>{e.classList.add("card-cta-season"),e.addEventListener("mouseenter",(function(){e.classList.contains("selected")||e.classList.add("hovered")})),e.addEventListener("mouseleave",(function(){e.classList.remove("hovered")}))})),m&&["winter","summer","demiseason"].includes(m)||(m="all",localStorage.setItem("lastSelectedCategory",m),localStorage.removeItem("filteredProducts"));const h=document.querySelector(`[data-href="${m}"]`);function y(){document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1}))}h&&h.classList.add("selected"),u.forEach((t=>{t.addEventListener("click",(a=>{a.preventDefault(),i(),currentPage=1,u.forEach((e=>{e.classList.remove("selected","hovered")})),t.classList.add("selected");let r=a.target.getAttribute("data-href");if("all"===r){r="all",localStorage.setItem("lastSelectedCategory",r),localStorage.removeItem("filteredProducts");const e=window.location.origin+window.location.pathname+window.location.hash;window.history.replaceState({},"",e)}else{const e=window.location.origin+window.location.pathname+`?category=${r}#catalog`;window.history.replaceState({},"",e),localStorage.setItem("lastSelectedCategory",r),localStorage.removeItem("filteredProducts")}updateProductDisplay(m),showPagination(currentPage),setTimeout(e(),0),y()}))})),p.forEach((t=>{t.addEventListener("click",(a=>{a.preventDefault(),currentPage=1,i();let r=a.target.getAttribute("data-href");const n=window.location.origin+window.location.pathname+(r?`?category=${r}`:"")+"#catalog";window.history.replaceState({},"",n),localStorage.setItem("lastSelectedCategory",r),localStorage.removeItem("filteredProducts");document.getElementById("catalog").scrollIntoView({behavior:"smooth"}),u.forEach((e=>{e.classList.remove("selected","hovered")})),u.forEach((e=>{e.getAttribute("data-href")===r&&e.classList.add("selected","hovered")})),t.classList.add("selected"),showPagination(currentPage),updateProductDisplay(m),setTimeout(e(),0),y()}))}));document.querySelector(".select__input").addEventListener("change",(function(){!function(e){const t=document.querySelector(".select__input");switch(parseInt(t.value)){case 2:e.sort(((e,t)=>parseFloat(t.price)-parseFloat(e.price)));break;case 3:e.sort(((e,t)=>parseFloat(e.price)-parseFloat(t.price)));break;case 4:e.sort(((e,t)=>new Date(t.date)-new Date(e.date)));break;case 5:e.sort(((e,t)=>t.popularity-e.popularity))}}(jsonData);showData(currentPage),showPagination(currentPage),function(){const e=document.querySelector("#pagination").getElementsByTagName("button");for(var t=0;t<e.length;t++){parseInt(e[t].innerText)===currentPage?(e[t].classList.add("current-page"),e[t].disabled=!0):(e[t].classList.remove("current-page"),e[t].disabled=!1)}}(),e()}));document.querySelectorAll(".readmore").forEach((e=>{e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("visible"),e.classList.toggle("readmore-active")}))}));const f=document.querySelector(".cta-size-popap"),P=document.querySelector(".cancel-size-popap"),v=document.querySelector(".size-block_popap"),S=document.querySelector(".bg-size-popap");f.addEventListener("click",(function(){v.style.display="block",S.style.display="block",v.classList.add("active-size-popap")})),P.addEventListener("click",(function(){v.style.display="none",S.style.display="none",v.classList.remove("active-size-popap")})),S.addEventListener("click",(function(){v.style.display="none",S.style.display="none",v.classList.remove("active-size-popap")})),showPagination(currentPage)}));
let orderToStorage={},orders={};function setLocalStorage(){console.log("enterd");for(let e in orders)if("orderSumWithNoDiscount"!==e&&"orderSumWithDiscount"!==e&&"orderSum"!==e){let r=orders[e],t=r.product.id+""+r.size,o=r.color,c=r.size,d=r.quantity;orderToStorage[t]={id:t,color:o,size:c,quantity:d}}localStorage.setItem("orders",JSON.stringify(orderToStorage))}let orderDetailSum=document.querySelector(".order-total-price"),orderWithDiscountPrice=document.querySelector(".price-totally b"),orderWithDiscountPriceCalc=0,numberOfProductsDOM=document.querySelector(".calc-added-products"),caclnumberOfProducts=0,addedProductsList=document.querySelector(".added-products-list "),orderDiscount=document.querySelector(".order-discount"),orderDiscountCalc=0;function buyBtnFunc(e,r,t,o,c){console.log(e,r,t,o),0===r.length?showToast("Спочатку виберіть розмір товару","info",5e3):c||(showToast("Товар успішно додано","success",5e3),document.querySelector(".popap-card").style.display="none",document.querySelector(".same-card")&&(document.querySelector(".same-card").innerHTML="")),Object.keys(orders).length<=3&&(addedProductsList.innerHTML="");let d=!0===c?e.slice(0,-2):e.dataset.value;console.log(d);fetch("products.json").then((e=>e.json())).then((e=>{const n=e.find((e=>e.id===d));""===n.saleprice&&(n.saleprice=n.price);for(let e=0;e<r.length;e++)if(null==orders[d+r[e]]){if(document.querySelector(".added-products-list").classList.remove("empty-baket"),orders[d+r[e]]={product:n,quantity:t?Number(t):1},r&&(orders[d+r[e]].size=r[e]),o)orders[d+r[e]].color=!0===c?o:n.color[o];else{let t=Object.keys(n.color);orders[d+r[e]].color=n.color[t[0]]}orders.orderSumWithNoDiscount+=""!=orders[d+r[e]].product.saleprice?Number(orders[d+r[e]].product.saleprice.slice(0,-4))*orders[d+r[e]].quantity:0,orders.orderSumWithDiscount+=Number(orders[d+r[e]].product.price.slice(0,-4))*orders[d+r[e]].quantity,updateCart(d,orders[d+r[e]].size,o,c),t?(caclnumberOfProducts+=Number(t),document.querySelector(".calc-number-of-products-header-line span").innerText=caclnumberOfProducts):(caclnumberOfProducts++,document.querySelector(".calc-number-of-products-header-line span").innerText=caclnumberOfProducts),numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=t?(Number(orders[d+r[e]].product.saleprice.slice(0,-4))-Number(orders[d+r[e]].product.price.slice(0,-4)))*Number(t):(Number(orders[d+r[e]].product.saleprice.slice(0,-4))-Number(orders[d+r[e]].product.price.slice(0,-4)))*orders[d+r[e]].quantity,orderDiscount.innerText=orderDiscountCalc,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,setTimeout((()=>{plusBtn(".plus-quantity[data-value='"+d+r[e]+"']"),minBtn(".minus-quantity[data-value='"+d+r[e]+"']")}),0)}else if(t)for(let o=t;o>0;o--)console.log(".plus-quantity[data-value='"+d+r[e]+"']"),document.querySelector(".plus-quantity[data-value='"+d+r[e]+"']").click();else r.length>1?(console.log(".plus-quantity[data-value='"+d+r[e]+"']"),document.querySelector(".plus-quantity[data-value='"+d+r[e]+"']").click()):(console.log(".plus-quantity[data-value='"+d+r[0]+"']"),document.querySelector(".plus-quantity[data-value='"+d+r[0]+"']").click())})),console.log("1"+orderToStorage),setLocalStorage()}let ordersList="";function loadOrdersFromLocalStorage(){const e=localStorage.getItem("orders");e&&(ordersList=JSON.parse(e),updateCartUI(ordersList))}function updateCartUI(e){addedProductsList.innerHTML="";for(const r in e)if(e.hasOwnProperty(r)){const t=e[r],o=[t.size];buyBtnFunc(t.id,o,t.quantity,t.color,!0)}}function updateCart(e,r,t,o){fetch("products.json").then((e=>e.json())).then((c=>{const d=c.find((r=>r.id===e));let n=Object.keys(d.color)[0];const s=t?function(){if(t&&d.color.hasOwnProperty(t)){return d.color[t]}}():d.color[n],u=(d.color,document.createElement("div"));u.innerHTML=`\n            <div class="basket-card flex-between" data-value=${d.id+""+r}>\n                <img src='${d.images.img}'>\n                \n                <div class="w-100 flex-between items-center">\n                    <div class="description">\n                        <div>\n                            <h3>${d.head}</h3>\n                            <table>\n                                <tr>\n                                    <td>колір</td>\n                                    <td>${1==o?t:s}</td>\n                                </tr>\n                                <tr>\n                                    <td>розмір</td>\n                                    <td class="size-span">${r}</td>\n                                </tr>\n                                <tr>\n                                    <td>ціна</td>\n                                    <td>${d.price} <span>${d.saleprice}</span></td>\n                                </tr>\n                                <tr>\n                                    <td>кількість</td>\n                                    <td>\n                                        <div class="quantity flex">\n                                            <div class="minus-quantity" data-value="${d.id+""+r}">-</div>\n                                            <div class="quantity-number">${orders[d.id+r].quantity}</div>\n                                            <div class="plus-quantity" data-value="${d.id+""+r}">+</div>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </table>\n                            <div class="delete-product">видалити товар</div>\n                        </div>\n                    </div>\n                    <div class="total-price">\n                        <span>${Number(orders[d.id+r].product.price.slice(0,-4))*orders[d.id+r].quantity+" грн"}</span>\n                    </div>\n                </div>\n            </div>\n        `,addedProductsList.appendChild(u)}))}function cart(){if(document.querySelectorAll(".cta-card")){clearTimeout(cartWaitTimeout);document.querySelectorAll(".cta-card"),document.querySelector("#orderConfirmProductsQuantity");document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(r){r.preventDefault();const t=this.getAttribute("data-value"),o=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${t}"]:checked`).forEach((e=>{o.push(e.value)})),buyBtnFunc(e,o)}))})),document.querySelectorAll(".cta-popap").forEach((e=>{e.addEventListener("click",(function(r){r.preventDefault();const t=this.getAttribute("data-value"),o=[];let c="";document.querySelectorAll(`.popap-card input[type="checkbox"][id^="popup-input-${t}"]:checked`).forEach((e=>{o.push(e.value)})),document.querySelectorAll('.popap-card input[name="color-popap"]:checked').forEach((e=>{c=e.value}));let d=document.querySelector(".popap-card .quantity-number");buyBtnFunc(e,o,d.innerText,c)}))}))}}console.log(orders);const inputMasks=document.querySelectorAll(".inputMask");function plusBtn(e){fetch("products.json").then((e=>e.json())).then((r=>{console.log(e),document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,t=this.dataset.value.slice(0,-2);r.find((e=>e.id===t));const o=e;if(orders[o]){orders[o].quantity+=1,orderToStorage[o].quantity+=1,console.log("2"+orderToStorage),setLocalStorage();const r=addedProductsList.querySelector('[data-value="'+e+'"] .total-price span'),t=addedProductsList.querySelector('[data-value="'+e+'"] .quantity-number');r.innerText=orders[o].product.price.slice(0,-4)*orders[o].quantity+" грн",t.innerText=orders[o].quantity,orders.orderSumWithNoDiscount+=0!==orders[o].product.saleprice?Number(orders[o].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount+=Number(orders[o].product.price.slice(0,-4))}orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,caclnumberOfProducts++,document.querySelector(".calc-number-of-products-header-line span").innerText=caclnumberOfProducts,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=Number(orders[t+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[t+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}))}))}function minBtn(e){fetch("products.json").then((e=>e.json())).then((r=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,t=e.slice(0,-2);r.find((e=>e.id===t));const o=e;if(orders[o]&&1!==orders[o].quantity){orders[o].quantity-=1,orderToStorage[o].quantity-=1,console.log("3"+orderToStorage),setLocalStorage();const r=addedProductsList.querySelector('[data-value="'+o+'"] .total-price span'),c=addedProductsList.querySelector('[data-value="'+o+'"] .quantity-number');orders[o].totalPrice=Number(orders[o].product.price.slice(0,-4))*orders[o].quantity,r.innerText=orders[o].totalPrice+" грн",c.innerText=orders[o].quantity,orders.orderSumWithNoDiscount-=""!=orders[o].product.saleprice?Number(orders[o].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount-=Number(orders[o].product.price.slice(0,-4)),1!==c&&(caclnumberOfProducts--,document.querySelector(".calc-number-of-products-header-line span").innerText=caclnumberOfProducts),numberOfProductsDOM.innerText=caclnumberOfProducts,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,orderDiscountCalc-=Number(orders[t+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[t+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}}))})),console.log("4"+orderToStorage),setLocalStorage()}function sendData(e){const r=JSON.stringify(e);document.querySelector("#orderProductsObject").value=r}inputMasks.forEach((function(e){e.value="+38",e.addEventListener("input",(function(){let r=e.value.replace(/[^\d+]/g,"");e.value=r,r.length>13&&(e.value=r.slice(0,13)),r.startsWith("+38")||(e.value="+38"+r.slice(3))}))})),console.log(orders.orderSumWithDiscount),document.addEventListener("DOMContentLoaded",(function(){console.log(orders.orderSumWithDiscount),loadOrdersFromLocalStorage(),document.addEventListener("click",(function(e){if(e.target.classList.contains("delete-product")){const r=e.target.closest(".basket-card"),t=r.dataset.value;if(orders[t]){orders[t].size;caclnumberOfProducts-=orders[t].quantity,document.querySelector(".calc-number-of-products-header-line span").innerText=caclnumberOfProducts,numberOfProductsDOM.innerText=caclnumberOfProducts,orders.orderSumWithNoDiscount-=Number(orders[t].product.saleprice.slice(0,-4))*orders[t].quantity,orderDetailSum.innerText=orders.orderSumWithNoDiscount,orderDiscountCalc-=(Number(orders[t].product.saleprice.slice(0,-4))-Number(orders[t].product.price.slice(0,-4)))*orders[t].quantity,orderDiscount.innerText=orderDiscountCalc,orders.orderSumWithDiscount-=Number(orders[t].product.price.slice(0,-4))*orders[t].quantity,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,delete orders[t],delete orderToStorage[t],console.log("5"+orderToStorage),setLocalStorage(),r.remove(),Object.keys(orders).length<=3&&(document.querySelector(".added-products-list").classList.add("empty-baket"),addedProductsList.innerHTML='\n                    <div class="basket-empty">\n                        <p>Кошик порожній </p>\n                        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 90 90" viewBox="0 0 90 90" width="100" height="100"><path d="M50.065 35.729c4.385 0 8.703 1.913 12.391 5.438.973.851 1.041 2.348.15 3.28-.896.938-2.391.938-3.281.005-3.01-2.883-6.172-4.188-9.26-4.188-3.084 0-6.24 1.304-9.25 4.188-.434.427-1.027.662-1.637.646-2.031-.052-2.979-2.545-1.488-3.932C41.372 37.642 45.685 35.729 50.065 35.729zM59.513 26.78c1.813 0 3.287 1.477 3.287 3.291 0 1.815-1.475 3.285-3.287 3.285s-3.281-1.47-3.281-3.285C56.231 28.256 57.7 26.78 59.513 26.78zM40.628 26.78c1.813 0 3.281 1.477 3.281 3.291 0 1.815-1.469 3.285-3.281 3.285-1.818 0-3.287-1.47-3.287-3.285C37.341 28.256 38.81 26.78 40.628 26.78zM10.237 5.269c-4.422.125-5.125 6.795-.844 7.958l5.582 1.971 6.568 34.245c.787 4.098 2.088 7.807 3.906 10.998 2.672 4.699 7.313 8.167 13.037 8.167h28.426c5.131.093 5.131-8.116 0-8.021H38.487c-4.047-.516-5.725-2.555-7.209-5.544H68.8c3.441 0 5.363-3.056 6.213-6.591l8.207-27.92c.438-4.59-1.994-5.496-6.25-5.496l-53.904.041-1.449-4.428c-.391-1.318-1.391-2.336-2.645-2.69L10.237 5.269zM40.425 72.697c-3.359 0-6.084 2.727-6.084 6.086 0 3.363 2.725 6.09 6.084 6.09s6.078-2.727 6.078-6.09C46.503 75.424 43.784 72.697 40.425 72.697zM64.663 72.697c-3.354 0-6.078 2.727-6.078 6.086 0 3.363 2.725 6.09 6.078 6.09 3.359 0 6.084-2.727 6.084-6.09C70.747 75.424 68.022 72.697 64.663 72.697z" fill="#cccccc" class="color000 svgShape"></path></svg>\n                    </div>\n                    ')}}}))}));
if(document.querySelector(".reviews")){function loadReviews(){return fetch("reviews.json").then((e=>{if(!e.ok)throw new Error("reviews error");return e.json()})).catch((e=>(console.error("Error:",e),[])))}function displayReviews(e,t,n,s){const i=document.querySelector(`.${t}`),r=Math.min(s.length,e);for(let e=s.length-1-n;e>=s.length-r-n;e--){if(!s[e]){document.getElementById("moreReviewsBtn").classList.add("d-none");break}let t=s[e].name,n=s[e].date,r=s[e].review,o=s[e].rate,l="";for(let e=1;e<=5;e++)e<=parseFloat(o)?l+="<div class='star active'></div>":l+="<div class='star'></div>";let c=`\n                <div class="review-card">\n                    <div class="review-block-hidden">\n                        <div class="flex-between items-center">\n                            <span>${t}</span>\n                            <span class="date">${n}</span>\n                        </div>\n                        <div class="stars flex">\n                            ${l}\n                        </div>\n                        <p>${r}</p>\n                    </div>\n                </div>\n            `;i.insertAdjacentHTML("beforeend",c)}const o=document.querySelector(".setReview"),l=document.querySelector(".allReviewsPopupOpen");reviewsBack=document.querySelector(".reviews-back"),o.addEventListener("click",(function(e){document.querySelector(".reviews-popup .popup-h2").innerText=o.innerText,e.preventDefault(),document.querySelector(".reviews-popup-list").innerHTML="",document.querySelector(".review-details").style.display="block",document.querySelector(".reviews-popup-list").classList.remove("reviews-popup-list-flex"),document.querySelector(".reviews-and-btn").classList.remove("w-100"),displayReviews(3,"reviews-popup-list",0,s),document.getElementById("moreReviewsBtn").classList.add("d-none"),document.querySelector(".allReviewsPopup").classList.add("d-block")})),l.addEventListener("click",(function(e){document.querySelector(".reviews-popup .popup-h2").innerText=l.innerText,e.preventDefault(),document.querySelector(".reviews-popup-list").innerHTML="",document.querySelector(".review-details").style.display="none",document.querySelector(".reviews-popup-list").classList.add("reviews-popup-list-flex"),document.querySelector(".reviews-and-btn").classList.add("w-100"),displayReviews(s.length,"reviews-popup-list",0,s),document.getElementById("moreReviewsBtn").classList.add("d-none"),document.querySelector(".allReviewsPopup").classList.add("d-block")})),reviewsBack.addEventListener("click",(function(){document.querySelector(".allReviewsPopup").classList.remove("d-block")}))}document.addEventListener("DOMContentLoaded",(function(){loadReviews().then((function(e){let t=0;displayReviews(5,"reviews-list",0,e);const n=document.querySelectorAll(".star-review"),s=document.getElementById("userRate"),i=document.getElementById("moreReviewsBtn");for(let e=0;e<n.length;e++)n[e].addEventListener("click",(function(){r(this.getAttribute("data-value"))}));function r(e){e=parseInt(e);for(let t=0;t<n.length;t++)t<e?n[t].classList.add("active"):n[t].classList.remove("active");s.value=e}i.addEventListener("click",(function(){t+=10,displayReviews(10,"reviews-popup-list",t,e)}))}))}))}
document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelector(".top-nav"),o=document.querySelectorAll(".scrollBurger");if(e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("activemobile")})),window.addEventListener("scroll",(function(){o.forEach((o=>{const n=o.getBoundingClientRect();n.top<=0&&n.bottom>=0&&(e.classList.remove("active"),t.classList.remove("activemobile"))}))})),document.querySelector(".arr-right")){const l=document.querySelectorAll(".slider-images img"),u=document.querySelector(".arr-left"),d=document.querySelector(".arr-right"),m=document.querySelectorAll(".slide-description");let v=0;function n(){m[v].classList.remove("active"),l[v].classList.remove("active"),v=(v+1)%l.length,l[v].classList.add("active"),m[v].classList.add("active")}n();let f=setInterval(n,3e3);u.addEventListener("click",(function(){clearInterval(f),m[v].classList.remove("active"),l[v].classList.remove("active"),v=(v-1+l.length)%l.length,l[v].classList.add("active"),m[v].classList.add("active"),f=setInterval(n,3e3)})),d.addEventListener("click",(function(){clearInterval(f),n(),f=setInterval(n,3e3)}))}const c=document.querySelector(".cart"),r=document.querySelector("#basket-popup-outline"),s=document.querySelectorAll(".basket-back"),a=document.querySelector("body");function i(){r.classList.toggle("d-block"),a.classList.toggle("hidden")}if(c.addEventListener("click",i),s.forEach((function(e){e.addEventListener("click",i)})),fetchData(),document.querySelector(".img-carousel")){let p=document.querySelector(".img-carousel"),y=document.querySelectorAll(".step-block");const g=document.querySelectorAll(".img-carousel img");!function(){let e=0;y.forEach((function(t){e+=t.getBoundingClientRect().height})),window,innerHeight>=960&&(p.style.height=e+40+"px")}();let h=0;setInterval((function(){g[h].classList.remove("active"),h=(h+1)%g.length,g[h].classList.add("active")}),3e3)}}));const cartWaitTimeout=setTimeout((function(){cart()}),1e3);function btnSimilar(){document.querySelectorAll(".popap-card .cta-card").forEach((function(e){e.addEventListener("click",(function(){let t=this.dataset.value,o=[];document.querySelectorAll(`.popap-card input[type="checkbox"][id^="input-${t}"]:checked`).forEach((e=>{o.push(e.value)})),buyBtnFunc(e,o)}))}))}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#openConfirmPopup"),t=document.querySelector("#popup-confirm-outline"),o=document.querySelectorAll(".confirm-back");e.addEventListener("click",(function(){if(Object.keys(orders).length>3){t.classList.toggle("d-block"),sendData(orders);let e=document.querySelector("#confirmPrice"),o=document.querySelector("#confirmTotalPrice");orderConfirmProductsQuantity.innerText=caclnumberOfProducts+" ",o.innerText=orders.orderSumWithDiscount+" грн",e.innerText=orders.orderSumWithNoDiscount+" грн"}else showToast("Спочатку оберіть бажаний товар","info",5e3)})),o.forEach((function(e){e.addEventListener("click",(function(){t.classList.toggle("d-block")}))}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".openPayAndDeliveryPopup"),t=document.querySelectorAll(".exchangeAndReturn"),o=document.querySelector("#deliveryPopup"),n=document.querySelector("#exchangePopup");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),o.classList.toggle("d-block")}))})),t.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),n.classList.toggle("d-block")}))}));const c=document.querySelector(".privacyPolice"),r=document.querySelector("#privacyPolice"),s=document.querySelector(".back-privacy"),a=document.querySelector("#oferta"),i=document.querySelector(".oferta"),l=document.querySelector(".back-oferta");c.addEventListener("click",(function(e){e.preventDefault(),r.classList.add("d-block")})),s.addEventListener("click",(function(){r.classList.remove("d-block")})),i.addEventListener("click",(function(e){e.preventDefault(),a.classList.add("d-block")})),l.addEventListener("click",(function(){a.classList.remove("d-block")}))}));let icon={success:'<span class="material-symbols-outlined"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g fill="#20bf55" data-name="Flat Color"><path d="M12 22.75a10.75 10.75 0 0 1 0-21.5 10.53 10.53 0 0 1 4.82 1.15.75.75 0 0 1-.68 1.34 9 9 0 0 0-4.14-1A9.25 9.25 0 1 0 21.25 12a2 2 0 0 0 0-.25.75.75 0 1 1 1.5-.14V12A10.76 10.76 0 0 1 12 22.75z" fill="#045d22" opacity="1" data-original="#20bf55" class=""></path><path d="M11.82 15.41a.7.7 0 0 1-.52-.22l-4.83-4.74a.75.75 0 0 1 0-1.06.77.77 0 0 1 1.07 0l4.29 4.23 9.65-9.49a.77.77 0 0 1 1.07 0 .75.75 0 0 1 0 1.06l-10.18 10a.74.74 0 0 1-.55.22z" fill="#045d22" opacity="1" data-original="#20bf55" class=""></path></g></g></svg></span>',info:'<span class="material-symbols-outlined"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30" x="0" y="0" viewBox="0 0 330 330" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M165 0C74.019 0 0 74.02 0 165.001 0 255.982 74.019 330 165 330s165-74.018 165-164.999S255.981 0 165 0zm0 300c-74.44 0-135-60.56-135-134.999S90.56 30 165 30s135 60.562 135 135.001C300 239.44 239.439 300 165 300z" fill="#000000" opacity="1" data-original="#000000" class=""></path><path d="M164.998 70c-11.026 0-19.996 8.976-19.996 20.009 0 11.023 8.97 19.991 19.996 19.991 11.026 0 19.996-8.968 19.996-19.991 0-11.033-8.97-20.009-19.996-20.009zM165 140c-8.284 0-15 6.716-15 15v90c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15v-90c0-8.284-6.716-15-15-15z" fill="#000000" opacity="1" data-original="#000000" class=""></path></g></svg></span>'};const showToast=(e="Sample Message",t="info",o=5e3)=>{Object.keys(icon).includes(t)||(t="info");let n=document.createElement("div");n.classList.add("toast",`toast-${t}`),n.innerHTML=` <div class="toast-content-wrapper"> \n                      <div class="toast-icon"> \n                      ${icon[t]} \n                      </div> \n                      <div class="toast-message">${e}</div> \n                      <div class="toast-progress"></div> \n                      </div>`,o=o||5e3,n.querySelector(".toast-progress").style.animationDuration=o/1e3+"s";let c=document.body.querySelector(".toast");c&&c.remove(),document.body.appendChild(n),document.body.querySelector(".toast").style.zIndex="100";setTimeout((function(){document.body.querySelector(".toast").style.zIndex="-10"}),5e3)};let submit=document.querySelector(".custom-toast.success-toast"),information=document.querySelector(".custom-toast.info-toast"),failed=document.querySelector(".custom-toast.danger-toast"),warn=document.querySelector(".custom-toast.warning-toast");document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("form.order-confirm-form");function t(e){return Array.from(e).some((e=>e.checked))}e.addEventListener("submit",(o=>{const n=e.querySelectorAll("input[name='deliveryMethod']"),c=e.querySelectorAll("input[name='paymenttype']");if(!t(n)||!t(c))return showToast("Заповніть всі обов'язкові поля.","info",5e3),void o.preventDefault();const r=e.querySelectorAll(".order-form input");for(const e of r)if(!e.value.trim())return showToast("Заповніть всі обов'язкові поля.","info",5e3),void o.preventDefault();const s=e.querySelector("input[name='userPhone']");return a=s.value.trim(),/\+380[0-9]{9}$/.test(a)?void 0:(showToast("Введіть коректний номер телефону.","info",5e3),void o.preventDefault());var a}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("form.review-form");e.addEventListener("submit",(t=>{const o=document.getElementById("userRate"),n=e.querySelector("input[name='userName']"),c=e.querySelector("input[name='userFirstName']"),r=e.querySelector("textarea[name='userReview']");return o.value.trim()?n.value.trim()&&c.value.trim()&&r.value.trim()?void 0:(showToast("Заповніть всі обов'язкові поля","info",5e3),void t.preventDefault()):(showToast("Оцініть товар","info",5e3),void t.preventDefault())}))})),document.querySelector("form[action='sendtelegram.php']")&&document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("form[action='sendtelegram.php']");e.addEventListener("submit",(t=>{const o=e.querySelector("input[name='userTel']");if(!o.value.trim()||(n=o.value,!/\+380[0-9]{9}$/.test(n)))return showToast("Введіть коректний номер телефону","info",5e3),void t.preventDefault();var n}))}));