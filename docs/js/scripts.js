<<<<<<< HEAD
const reviewsArr=[{name:"Шамрай Артем",date:"30.12.2023",rate:"1",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"2",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"3",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"4",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."}];function displayReviews(e,r){const i=document.querySelector(`.${r}`),s=Math.min(reviewsArr.length,e);for(let e=reviewsArr.length-1;e>=reviewsArr.length-s;e--){let r=reviewsArr[e].name,s=reviewsArr[e].date,n=reviewsArr[e].review,t=reviewsArr[e].rate,a="";for(let e=1;e<=5;e++)e<=parseFloat(t)?a+="<div class='star active'></div>":a+="<div class='star'></div>";let v=`\n            <div class="review-card">\n                <div class="review-block-hidden">\n                    <div class="flex-between items-center">\n                        <span>${r}</span>\n                        <span class="date">${s}</span>\n                    </div>\n                    <div class="stars flex">\n                        ${a}\n                    </div>\n                    <p>${n}</p>\n                </div>\n            </div>\n        `;i.insertAdjacentHTML("beforeend",v)}}document.addEventListener("DOMContentLoaded",(function(){displayReviews(5,"reviews-list"),displayReviews(reviewsArr.length,"reviews-popup-list")}));
document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelector(".top-nav");e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("activemobile")}));const r=document.querySelector(".mobile-filter"),n=document.querySelector(".filter"),o=document.querySelector(".cancel-filter");r.addEventListener("click",(function(e){e.preventDefault(),n.classList.add("active-filter")})),o.addEventListener("click",(function(){n.classList.remove("active-filter")}));const c=document.querySelectorAll(".select");c.forEach((e=>{const t=e.querySelector(".select__in"),r=e.querySelectorAll(".select__item"),n=e.querySelector(".select__input"),o=new Event("change");t.addEventListener("click",(()=>{c.forEach((t=>{t!==e&&t.classList.remove("is-opened")})),e.classList.toggle("is-opened")})),r.forEach((c=>{c.addEventListener("click",(()=>{n.value=c.dataset.value,n.dispatchEvent(o),t.innerHTML=c.innerHTML,r.forEach((e=>{e.classList.remove("is-active")})),c.classList.add("is-active"),e.classList.remove("is-opened")}))}))})),document.addEventListener("click",(e=>{e.target.closest(".select")||c.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),document.addEventListener("keyup",(e=>{"Escape"==e.key&&c.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),orders.orderSumWithNoDiscount=0,orders.orderSumWithDiscount=0,orders.orderSum=0;const a=document.querySelector(".card-bott"),i=document.querySelector(".filter-season"),l=document.querySelector(".popap-card"),d=document.querySelector(".same-card"),s=12;let u,p=1,m=1,f=[];function y(e){const t=(e-1)*s,r=t+s,n=f.slice(t,r);var o,c;o=n,(c=a).innerHTML="",o.forEach((e=>{const t=h(e);c.appendChild(t)}))}function h(e){const t=document.createElement("figure"),r=document.createElement("figcaption");if(""!==e.saleprice){const t=document.createElement("span"),n=100-100*parseFloat(e.price)/parseFloat(e.saleprice);t.classList.add("card-flag"),t.innerText=`sale -${n.toFixed(0)}%`,r.appendChild(t)}t.classList.add("card-box",e.category,e.color,e.model,e.material,e.style,e.size40,e.size41,e.size42,e.size43,e.size44,e.size45),t.appendChild(r);const n=document.createElement("a");n.classList.add("click-card"),n.href="#",n.setAttribute("data-value",e.id),n.addEventListener("click",(function(t){t.preventDefault(),function(e,t){if(t){u=t;const e=f.find((e=>e.id===t));e&&(!function(){const e=document.querySelector(".choise-size_popap"),t=document.querySelector(".choise-color_popap"),r=document.querySelector(".same-card"),n=document.querySelector(".descript-popap"),o=document.querySelector(".producer-card_popap"),c=document.querySelector(".country-card_popap"),a=document.querySelector(".kind-card_popap"),i=document.querySelector(".season-card_popap"),l=document.querySelector(".material-top_popap"),d=document.querySelector(".material-bottom_popap"),s=document.querySelector(".material-sole_popap"),u=document.querySelector(".style-card_popap");e.innerHTML="",n.innerHTML="",o.innerHTML="",c.innerHTML="",a.innerHTML="",i.innerHTML="",l.innerHTML="",d.innerHTML="",s.innerHTML="",c.innerHTML="",u.innerHTML="";const p=document.querySelector(".color-form-popap");p&&p.parentNode===t&&t.removeChild(p);availableColors=[],r&&(r.innerHTML="")}(),function(e){const t=document.querySelector(".description-card_popap"),r=document.querySelector(".new-price-popap"),n=document.querySelector(".code-card_popap"),o=document.querySelector(".price-popap"),c=document.querySelector(".main-card-img"),a=document.querySelector(".small-img-first"),i=document.querySelector(".small-img-second"),s=document.querySelector(".small-img-last"),p=document.querySelector(".choise-color_popap"),m=document.querySelector(".descript-popap"),y=document.querySelector(".producer-card_popap"),v=document.querySelector(".country-card_popap"),S=document.querySelector(".kind-card_popap"),q=document.querySelector(".season-card_popap"),L=document.querySelector(".material-top_popap"),g=document.querySelector(".material-bottom_popap"),b=document.querySelector(".material-sole_popap"),E=document.querySelector(".style-card_popap");function k(e,t){const r=document.createElement("div"),n=document.createElement("a"),o=document.createElement("img"),c=document.querySelector(".open-img");c&&c.remove(),r.classList.add("open-img"),o.src=e,o.alt=t,n.classList.add("cancel-size-popap"),n.setAttribute("href","#"),n.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.267146 0.181446C0.506963 -0.0604821 0.895783 -0.0604821 1.1356 0.181446L5 4.07987L8.8644 0.181446C9.10422 -0.0604821 9.49304 -0.0604821 9.73285 0.181446C9.97267 0.423375 9.97267 0.815619 9.73285 1.05755L5.86845 4.95597L9.82014 8.94245C10.06 9.18438 10.06 9.57662 9.82014 9.81855C9.58032 10.0605 9.1915 10.0605 8.95168 9.81855L5 5.83207L1.04832 9.81855C0.8085 10.0605 0.419679 10.0605 0.179863 9.81855C-0.0599542 9.57662 -0.0599542 9.18438 0.179863 8.94245L4.13155 4.95597L0.267146 1.05755C0.0273296 0.815619 0.0273296 0.423375 0.267146 0.181446Z" fill="#4E98B6"/>\n                </svg>\n            ',T.style.display="block",r.appendChild(o),r.appendChild(n),l.appendChild(r),n.addEventListener("click",(function(){T.style.display="none",r.remove()}))}producerInfo=document.createElement("p"),producerInfo.innerText="виробник",producerInfo2=document.createElement("p"),producerInfo2.classList.add("bold-card"),producerInfo2.innerText=e.producer,y.appendChild(producerInfo),y.appendChild(producerInfo2),countryInfo=document.createElement("p"),countryInfo.innerText="країна виробник",countryInfo2=document.createElement("p"),countryInfo2.innerText=e.country,countryInfo2.classList.add("bold-card"),v.appendChild(countryInfo),v.appendChild(countryInfo2),kindInfo=document.createElement("p"),kindInfo.innerText="вид взуття",kindInfo1=document.createElement("p"),kindInfo1.classList.add("bold-card"),kindInfo1.innerText=e.kind,S.appendChild(kindInfo),S.appendChild(kindInfo1),seasonInfo=document.createElement("p"),seasonInfo.innerText="сезон",seasonInfo1=document.createElement("p"),seasonInfo1.classList.add("bold-card"),seasonInfo1.innerText=e.seasonHaract,q.appendChild(seasonInfo),q.appendChild(seasonInfo1),materialTopInfo=document.createElement("p"),materialTopInfo.innerText="матеріал верху",materialTopInfo1=document.createElement("p"),materialTopInfo1.classList.add("bold-card"),materialTopInfo1.innerText=e.materialTop,L.appendChild(materialTopInfo),L.appendChild(materialTopInfo1),materialBottomInfo=document.createElement("p"),materialBottomInfo.innerText="матеріал підкладки",materialBottomInfo1=document.createElement("p"),materialBottomInfo1.classList.add("bold-card"),materialBottomInfo1.innerText=e.materialBottom,g.appendChild(materialBottomInfo),g.appendChild(materialBottomInfo1),materialSoleInfo=document.createElement("p"),materialSoleInfo.innerText="матеріал підошви",materialSoleInfo1=document.createElement("p"),materialSoleInfo1.classList.add("bold-card"),materialSoleInfo1.innerText=e.materialSole,b.appendChild(materialSoleInfo),b.appendChild(materialSoleInfo1),styleCardInfo=document.createElement("p"),styleCardInfo.innerText="стиль",styleCardInfo1=document.createElement("p"),styleCardInfo1.classList.add("bold-card"),styleCardInfo1.innerText=e.styleCard,E.appendChild(styleCardInfo),E.appendChild(styleCardInfo1),t.innerText=e.head,r.innerText=e.price,n.innerText=e.id,o.innerText=e.saleprice,c.src=e.img,c.alt=e.alt,a.src=e.imgPopap1,a.alt=e.altPopap1,i.src=e.imgPopap2,i.alt=e.altPopap2,s.src=e.imgPopap3,s.alt=e.altPopap3,c.addEventListener("click",(function(){k(c.src,c.alt)}));let C=!1;a.addEventListener("click",(function(){C?(c.src=e.img,c.alt=e.alt,a.src=e.imgPopap1,a.alt=e.altPopap1):(c.src=e.imgPopap1,c.alt=e.altPopap1,a.src=e.img,a.alt=e.alt),i.src=e.imgPopap2,i.alt=e.altPopap2,s.src=e.imgPopap3,s.alt=e.altPopap3,C=!C}));let x=!1;i.addEventListener("click",(function(){x?(c.src=e.img,c.alt=e.alt,i.src=e.imgPopap2,i.alt=e.altPopap2):(c.src=e.imgPopap2,c.alt=e.altPopap2,i.src=e.img,i.alt=e.alt),a.src=e.imgPopap1,a.alt=e.altPopap1,s.src=e.imgPopap3,s.alt=e.altPopap3,x=!x}));let I=!1;s.addEventListener("click",(function(){I?(c.src=e.img,c.alt=e.alt,s.src=e.imgPopap3,s.alt=e.altPopap3,a.src=e.imgPopap1,a.alt=e.altPopap1,i.src=e.imgPopap2,i.alt=e.altPopap2):(c.src=e.imgPopap3,c.alt=e.altPopap3,s.src=e.img,s.alt=e.alt),a.src=e.imgPopap1,a.alt=e.altPopap1,i.src=e.imgPopap2,i.alt=e.altPopap2,I=!I}));const D=document.createElement("ol"),P=document.createElement("p");if(e.bottomDescript){const t=document.createElement("p");t.innerText=e.bottomDescript,m.appendChild(t)}m.appendChild(P),P.innerText=e.descript;const M=[e.list1,e.list2,e.list3,e.list4,e.list5,e.list6].filter(Boolean);for(const e of M){const t=document.createElement("li");t.innerText=e,D.appendChild(t)}m.appendChild(D);const A=["40","41","42","43","44","45"],N=document.querySelector(".choise-size_popap");for(const t of A){const r=document.createElement("input");r.type="checkbox",r.id=`popup-input-${e.id}-${t}`,r.name="size-popap",r.value=t;const n=document.createElement("label");n.classList.add(`label${t}`),n.setAttribute("for",`popup-input-${e.id}-${t}`),n.innerText=`${t}`,r.disabled=!(`size${t}`in e),N.appendChild(r),N.appendChild(n)}const $=document.createElement("form");$.classList.add("color-form-popap"),p.appendChild($);let _=[e.color,e.color1,e.color2].filter(Boolean);console.log(_),_.forEach((function(t){const r=t+"-popap"+e.id,n=document.createElement("input");n.type="checkbox",n.id=r,n.name="color-popap",n.value=t;const o=document.createElement("label");switch(o.htmlFor=r,t){case"blue":console.log("blue"),o.classList.add("blue");break;case"black":console.log("black"),o.classList.add("black");break;case"green":console.log("green"),o.classList.add("haki");break;case"brown":console.log("brown"),o.classList.add("brown")}$.appendChild(n),$.appendChild(o)}));const W=document.querySelector(".min-count_card"),w=document.querySelector(".max-count_card"),O=document.querySelector(".num-count-card");let z=1;const B=()=>{z<10&&(z++,O.innerText=z)},H=()=>{z>1&&(z--,O.innerText=z)};W.addEventListener("click",H),w.addEventListener("click",B);let j=e.color;const F=4;d.innerHTML="",function(e,t,r,n){let o=0,c=!1;const a=document.querySelector(".text-same-card");e.forEach((e=>{if(o<n&&t&&e.color===t&&u!==e.id){const t=h(e);r.appendChild(t),o++,c=!0}})),c||(a.innerText="Нажаль схожих товарів не знайдено.",r.appendChild(a))}(f,j,d,F);let Z=document.querySelector(".cta-popap");Z.setAttribute("data-value",e.id),Z.addEventListener("click",(function(e){e.preventDefault(),l.style.display="none"})),btnSimilar()}(e),l.style.display="grid")}else console.error("error")}(0,e.id),j()})),r.appendChild(n);const o=document.createElement("img");o.src=e.img,o.alt=e.alt,o.setAttribute("data-src",e.img),o.setAttribute("data-alt",e.alt),r.appendChild(o);const c=document.createElement("h2");c.classList.add("header-card"),c.innerText=e.head,r.appendChild(c);const a=document.createElement("p");a.classList.add("old-price"),a.innerText=e.saleprice,r.appendChild(a);const i=document.createElement("p"),s=parseInt(e.price.replace(/\D/g,""));t.dataset.price=s,i.classList.add("new-price"),i.innerText=e.price,r.appendChild(i);const p=document.createElement("div");p.classList.add("input-block"),r.appendChild(p);const m=["40","41","42","43","44","45"];for(const t of m){const r=document.createElement("input");r.type="checkbox",r.name="size-radio",r.id=`input-${e.id}-${t}`,r.value=t;const n=document.createElement("label");n.classList.add(`label${t}`),n.setAttribute("for",`input-${e.id}-${t}`),n.innerText=`${t}`,r.disabled=!(`size${t}`in e),p.appendChild(r),p.appendChild(n)}const y=document.createElement("a");return y.classList.add("cta-card"),y.setAttribute("data-value",e.id),y.innerText=e.cta,y.href="#",r.appendChild(y),t}document.querySelector(".back-to-main").addEventListener("click",(function(e){e.preventDefault(),l.style.display="none",document.querySelector(".same-card").innerHTML=""}));const v=document.querySelectorAll(".card-cta-season"),S=["winter","summer","demiseason"],q=localStorage.getItem("lastSelectedCategory");function L(e){f.forEach((t=>{const r=document.querySelector(`.${t.category}`);r&&(r.style.display="#all"===e||e===`#${t.category}`?"block":"none")}))}i.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&(I=e.target.getAttribute("data-href"),localStorage.setItem("lastSelectedCategory",I),$(),L(I),y(p))}));document.querySelector(".select__input").addEventListener("change",(function(){!function(e){const t=document.querySelector(".select__input");switch(parseInt(t.value)){case 2:e.sort(((e,t)=>parseFloat(t.price)-parseFloat(e.price)));break;case 3:e.sort(((e,t)=>parseFloat(e.price)-parseFloat(t.price)))}}(f);y(p),k(),x()}));document.querySelectorAll(".readmore").forEach((e=>{e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("visible"),e.classList.toggle("readmore-active")}))}));const g=document.querySelector(".cta-size-popap"),b=document.querySelector(".cancel-size-popap"),E=document.querySelector(".size-block_popap"),T=document.querySelector(".bg-size-popap");function k(){var e=document.querySelector("#pagination");if(e.innerHTML="",m>1){e.appendChild(C("←","arrow-pag prev",(function(){p>1&&(p--,y(p),k(),x())})));const t=4,r=Math.floor(t/2),n=Math.max(1,p-r),o=Math.min(m,n+t-1);n>1&&(e.appendChild(C(1,"",(function(){p=1,y(p),k(),x()}))),n>2&&e.appendChild(C("...","ellipsis",(function(){}))));for(let t=n;t<=o;t++)!function(t){e.appendChild(C(t,t===p?"active":"",(function(){p=t,y(p),k(),x()})))}(t);o<m&&(o<m-1&&e.appendChild(C("...","ellipsis",(function(){}))),e.appendChild(C(m,"",(function(){p=m,y(p),k(),x()})))),e.appendChild(C("→","arrow-pag next",(function(){p<m&&(p++,y(p),k(),x())})))}}function C(e,t,r){const n=document.createElement("button");return n.innerText=e,n.className=t,n.onclick=r,n}function x(){const e=document.querySelector("#pagination").getElementsByTagName("button");for(var t=0;t<e.length;t++){parseInt(e[t].innerText)===p?(e[t].classList.add("current-page"),e[t].disabled=!0):(e[t].classList.remove("current-page"),e[t].disabled=!1)}}g.addEventListener("click",(function(){E.style.display="block",T.style.display="block",E.classList.add("active-size-popap")})),b.addEventListener("click",(function(){E.style.display="none",T.style.display="none",E.classList.remove("active-size-popap")})),fetch("products.json").then((e=>e.json())).then((e=>{f=e,m=Math.ceil(f.length/s),y(p),k(),L(I)})).catch((e=>console.error("Помилка завантаження даних:",e)));let I=q;v.forEach((e=>{e.classList.add("card-cta-season"),e.addEventListener("mouseenter",(function(){e.classList.contains("selected")||e.classList.add("hovered")})),e.addEventListener("mouseleave",(function(){e.classList.remove("hovered")}))})),q||(I="#all",localStorage.setItem("lastSelectedCategory",I));const D=document.querySelector(`[data-href="${I}"]`);function L(e){S.forEach((t=>{document.querySelectorAll(`.${t}`).forEach((r=>{r.style.display=e===`${t}`||"#all"===e?"block":"none"}))}))}D&&D.classList.add("selected"),S.forEach((e=>{document.querySelectorAll(`.${e}`).forEach((t=>{t.style.display=I===`${e}`||"#all"===I?"block":"none"}))})),v.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),v.forEach((e=>{e.classList.remove("selected","hovered")})),e.classList.add("selected");let r=t.target.getAttribute("data-href");localStorage.setItem("lastSelectedCategory",r),L(r)}))}));let P=null;function M(){const e=parseInt(document.querySelector(".input-min").value)||0,t=parseInt(document.querySelector(".input-max").value)||1e4,r=A("size"),n=A("color"),o=A("model"),c=A("season"),a=A("material"),i=A("style");let l=!1;if(S.forEach((d=>{document.querySelectorAll(`.${d}`).forEach((d=>{const s=N(d.classList,r)&&N(d.classList,n)&&N(d.classList,o)&&N(d.classList,c)&&N(d.classList,a)&&N(d.classList,i)&&function(e,t,r){const n=parseInt(e.dataset.price);return n>=t&&n<=r}(d,e,t);d.style.display=s?"grid":"none",s&&(l=!0)}))})),!l&&!P){const e=document.querySelector(".card-bott");P=document.createElement("div"),P.classList.add("any-block");const t=document.createElement("span");t.classList.add("icon-no-card"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M280-80q-83 0-141.5-58.5T80-280q0-83 58.5-141.5T280-480q83 0 141.5 58.5T480-280q0 83-58.5 141.5T280-80Zm544-40L568-376q-12-13-25.5-26.5T516-428q38-24 61-64t23-88q0-75-52.5-127.5T420-760q-75 0-127.5 52.5T240-580q0 6 .5 11.5T242-557q-18 2-39.5 8T164-535q-2-11-3-22t-1-23q0-109 75.5-184.5T420-840q109 0 184.5 75.5T680-580q0 43-13.5 81.5T629-428l251 252-56 56Zm-615-61 71-71 70 71 29-28-71-71 71-71-28-28-71 71-71-71-28 28 71 71-71 71 28 28Z"/></svg>';const r=document.createElement("p");r.classList.add("no-card"),r.innerText="Нажаль, за вашим вибором не знайдено жодного товару",P.appendChild(t),P.appendChild(r),e.appendChild(P)}}function A(e){return Array.from(document.querySelectorAll(`input[name="${e}"]:checked`)).map((e=>e.value))}function N(e,t){return 0===t.length||t.some((t=>e.contains(t)))}function $(){document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1})),document.querySelector(".input-min").value="0",document.querySelector(".input-max").value="10000",document.querySelector(".range-min").value="0",document.querySelector(".range-max").value="10000",document.querySelectorAll(".product-card").forEach((e=>{e.style.display="grid"})),M()}document.querySelectorAll('input[type="checkbox"], input[type="range"]').forEach((e=>{e.addEventListener("click",(function(){P&&(P.remove(),P=null),M()}))})),document.querySelector('button.cta-transparent.reset-filter[type="reset"]').addEventListener("click",(function(e){e.preventDefault(),$()}));const _=document.querySelectorAll(".slider-images img"),W=document.querySelector(".arr-left"),w=document.querySelector(".arr-right"),O=document.querySelectorAll(".slide-description");let z=0;function B(){O[z].classList.remove("active"),_[z].classList.remove("active"),z=(z+1)%_.length,_[z].classList.add("active"),O[z].classList.add("active")}B();let H=setInterval(B,3e3);W.addEventListener("click",(function(){clearInterval(H),O[z].classList.remove("active"),_[z].classList.remove("active"),z=(z-1+_.length)%_.length,_[z].classList.add("active"),O[z].classList.add("active"),H=setInterval(B,3e3)})),w.addEventListener("click",(function(){clearInterval(H),B(),H=setInterval(B,3e3)}));const j=document.querySelector(".cart"),F=document.querySelector("#basket-popup-outline"),Z=document.querySelector(".basket-back"),Q=document.querySelector("body");function J(){F.classList.toggle("d-block"),Q.classList.toggle("hidden")}j.addEventListener("click",J),Z.addEventListener("click",J);const R=document.querySelectorAll(".range-input input"),U=document.querySelectorAll(".price-input input"),G=document.querySelector(".slider .progress");let K=1e3;U.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(U[0].value),r=parseInt(U[1].value);r-t>=K&&r<=R[1].max&&("input-min"===e.target.className?(R[0].value=t,G.style.left=t/R[0].max*100+"%"):(R[1].value=r,G.style.right=100-r/R[1].max*100+"%"))}))})),R.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(R[0].value),r=parseInt(R[1].value);r-t<K?"range-min"===e.target.className?R[0].value=r-K:R[1].value=t+K:(U[0].value=t,U[1].value=r,G.style.left=t/R[0].max*100+"%",G.style.right=100-r/R[1].max*100+"%")}))}));let V=document.querySelector(".img-carousel"),X=document.querySelectorAll(".step-block");const Y=document.querySelectorAll(".img-carousel img");!function(){let e=0;X.forEach((function(t){e+=t.getBoundingClientRect().height})),window,innerHeight>=960&&(V.style.height=e+40+"px")}();let ee=0;setInterval((function(){Y[ee].classList.remove("active"),ee=(ee+1)%Y.length,Y[ee].classList.add("active")}),3e3)}));let orderDetailSum=document.querySelector(".order-total-price"),orderWithDiscountPrice=document.querySelector(".price-totally b"),orderWithDiscountPriceCalc=0,numberOfProductsDOM=document.querySelector(".calc-added-products"),caclnumberOfProducts=0,addedProductsList=document.querySelector(".added-products-list "),orderDiscount=document.querySelector(".order-discount"),orderDiscountCalc=0;orders={};const cartWaitTimeout=setTimeout((function(){cart()}),1e3);function buyBtnFunc(e,t,r){let n=e.dataset.value;fetch("products.json").then((e=>e.json())).then((e=>{const o=e.find((e=>e.id===n));""===o.saleprice&&(o.saleprice=o.price);for(let e=0;e<t.length;e++)if(orders[n+t[e]])if(r)for(let e=r;e>0;e--)orders[n+t[e]],console.log(n),console.log(t),document.querySelector(".plus-quantity[data-value='"+n+t[e]+"']").click();else t.length>1?document.querySelector(".plus-quantity[data-value='"+n+t[e]+"']").click():document.querySelector(".plus-quantity[data-value='"+n+t[0]+"']").click();else orders[n+t[e]]={product:o,quantity:r?Number(r):1},t&&(orders[n+t[e]].size=t[e]),orders.orderSumWithNoDiscount+=""!=orders[n+t[e]].product.saleprice?Number(orders[n+t[e]].product.saleprice.slice(0,-4))*orders[n+t[e]].quantity:0,orders.orderSumWithDiscount+=Number(orders[n+t[e]].product.price.slice(0,-4))*orders[n+t[e]].quantity,updateCart(n,orders[n+t[e]].size),plusBtn(".plus-quantity[data-value='"+n+t[e]+"']"),minBtn(".minus-quantity[data-value='"+n+t[e]+"']"),caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=(Number(orders[n+t[e]].product.saleprice.slice(0,-4))-Number(orders[n+t[e]].product.price.slice(0,-4)))*orders[n+t[e]].quantity,orderDiscount.innerText=orderDiscountCalc*orders[n+t[e]].quantity,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount}))}function updateCart(e,t){fetch("products.json").then((e=>e.json())).then((r=>{const n=r.find((t=>t.id===e)),o=document.createElement("div");o.innerHTML=`\n                    <div class="basket-card flex-between" data-value=${n.id+""+t}>\n                        <img src=${n.img}>\n                        \n                        <div class="w-100 flex-between items-center">\n                            <div class="description">\n                                <div>\n                                    <h3>${n.head}</h3>\n                                    <table>\n                                        <tr>\n                                            <td>колір</td>\n                                            <td>${n.color}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>розмір</td>\n                                            <td class="size-span">${t}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>ціна</td>\n                                            <td>${n.price} <span>${n.saleprice}</span></td>\n                                        </tr>\n                                        <tr>\n                                            <td>кількість</td>\n                                            <td>\n                                                <div class="quantity flex">\n                                                    <div class="minus-quantity" data-value="${n.id+""+t}">-</div>\n                                                    <div class="quantity-number">${orders[n.id+t].quantity}</div>\n                                                    <div class="plus-quantity" data-value="${n.id+""+t}">+</div>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                    <div class="delete-product">видалити товар</div>\n                                </div>\n                            </div>\n                            <div class="total-price">\n                                <span>${Number(orders[n.id+t].product.price.slice(0,-4))*orders[n.id+t].quantity+" грн"}</span>\n                            </div>\n                        </div>\n                    </div>\n                `,addedProductsList.appendChild(o)}))}function cart(){if(document.querySelectorAll(".cta-card")){clearInterval(cartWaitTimeout);document.querySelectorAll(".cta-card"),document.querySelector("#orderConfirmProductsQuantity");document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${r}"]:checked`).forEach((e=>{n.push(e.value)})),buyBtnFunc(e,n)}))})),document.querySelectorAll(".cta-popap").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];document.querySelectorAll(`.popap-card input[type="checkbox"][id^="popup-input-${r}"]:checked`).forEach((e=>{n.push(e.value),alert(e.value)}));let o=document.querySelector(".popap-card .quantity-number");console.log(document.querySelectorAll(`choise-size_popap input[type="checkbox"][id^="popup-input-${r}"]:checked`)),console.log(e),console.log(n),console.log(o.innerText),buyBtnFunc(e,n,o.innerText)}))}))}}const inputMask=document.querySelector(".inputMask");function plusBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=this.dataset.value.slice(0,-2);t.find((e=>e.id===r));const n=e;if(orders[n]){orders[n].quantity+=1;const t=addedProductsList.querySelector('[data-value="'+e+'"] .total-price span'),r=addedProductsList.querySelector('[data-value="'+e+'"] .quantity-number');t.innerText=orders[n].product.price.slice(0,-4)*orders[n].quantity+" грн",r.innerText=orders[n].quantity,orders.orderSumWithNoDiscount+=0!==orders[n].product.saleprice?Number(orders[n].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount+=Number(orders[n].product.price.slice(0,-4))}orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}))}))}function minBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=e.slice(0,-2);t.find((e=>e.id===r));const n=e;if(orders[n]&&1!==orders[n].quantity){orders[n].quantity-=1;const t=addedProductsList.querySelector('[data-value="'+n+'"] .total-price span'),o=addedProductsList.querySelector('[data-value="'+n+'"] .quantity-number');orders[n].totalPrice=Number(orders[n].product.price.slice(0,-4))*orders[n].quantity,t.innerText=orders[n].totalPrice+" грн",o.innerText=orders[n].quantity,orders.orderSumWithNoDiscount-=""!=orders[n].product.saleprice?Number(orders[n].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount-=Number(orders[n].product.price.slice(0,-4)),1!==o&&caclnumberOfProducts--,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,orderDiscountCalc-=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}}))}))}function sendData(e){const t=JSON.stringify(e);document.querySelector("#orderProductsObject").value=t}function btnSimilar(){document.querySelectorAll(".popap-card .cta-card").forEach((function(e){e.addEventListener("click",(function(){let t=this.dataset.value,r=[];document.querySelectorAll(`.popap-card input[type="checkbox"][id^="input-${t}"]:checked`).forEach((e=>{r.push(e.value)})),buyBtnFunc(e,r)}))}))}inputMask.value="+38",inputMask.addEventListener("input",(function(){let e=inputMask.value;e.length>13?inputMask.value=e.slice(0,13):e.startsWith("+38")||(inputMask.value="+38"+e.slice(3))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".cta-card").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".plus-quantity");plusBtn()}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){if(e.target.classList.contains("delete-product")){const t=e.target.closest(".basket-card"),r=t.dataset.value;if(orders[r]){orders[r].size;caclnumberOfProducts-=orders[r].quantity,numberOfProductsDOM.innerText=caclnumberOfProducts,orders.orderSumWithNoDiscount-=Number(orders[r].product.saleprice.slice(0,-4))*orders[r].quantity,orderDetailSum.innerText=orders.orderSumWithNoDiscount,orderDiscountCalc-=(Number(orders[r].product.saleprice.slice(0,-4))-Number(orders[r].product.price.slice(0,-4)))*orders[r].quantity,orderDiscount.innerText=orderDiscountCalc,orders.orderSumWithDiscount-=Number(orders[r].product.price.slice(0,-4))*orders[r].quantity,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,delete orders[r],t.remove()}}}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#openConfirmPopup"),t=document.querySelector("#popup-confirm-outline"),r=document.querySelector(".confirm-back");e.addEventListener("click",(function(){if(Object.keys(orders).length>3){t.classList.toggle("d-block"),sendData(orders);let e=document.querySelector("#confirmPrice"),r=document.querySelector("#confirmTotalPrice");orderConfirmProductsQuantity.innerText=caclnumberOfProducts+" ",r.innerText=orders.orderSumWithDiscount+" грн",e.innerText=orders.orderSumWithDiscount+" грн"}})),r.addEventListener("click",(function(){t.classList.toggle("d-block")}))}));
=======
const reviewsArr=[{name:"Шамрай Артем1",date:"30.12.2023",rate:"1",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем2",date:"30.12.2023",rate:"2",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем3",date:"30.12.2023",rate:"3",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем4",date:"30.12.2023",rate:"4",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем5",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем6",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем7",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем8",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем9",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем10",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем11",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем12",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем13",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем14",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем15",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем16",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем17",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем18",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем19",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем20",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем21",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем22",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."}];function displayReviews(e,t,a){const r=document.querySelector(`.${t}`),n=Math.min(reviewsArr.length,e);for(let e=reviewsArr.length-1-a;e>=reviewsArr.length-n-a;e--){if(!reviewsArr[e]){document.getElementById("moreReviewsBtn").classList.add("d-none");break}let t=reviewsArr[e].name,a=reviewsArr[e].date,n=reviewsArr[e].review,i=reviewsArr[e].rate,s="";for(let e=1;e<=5;e++)e<=parseFloat(i)?s+="<div class='star active'></div>":s+="<div class='star'></div>";let d=`\n            <div class="review-card">\n                <div class="review-block-hidden">\n                    <div class="flex-between items-center">\n                        <span>${t}</span>\n                        <span class="date">${a}</span>\n                    </div>\n                    <div class="stars flex">\n                        ${s}\n                    </div>\n                    <p>${n}</p>\n                </div>\n            </div>\n        `;r.insertAdjacentHTML("beforeend",d)}}document.addEventListener("DOMContentLoaded",(function(){let e=0;displayReviews(5,"reviews-list",0),displayReviews(10,"reviews-popup-list",0);const t=document.querySelectorAll(".star-review"),a=document.getElementById("userRate"),r=document.getElementById("moreReviewsBtn");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){n(this.getAttribute("data-value"))}));function n(e){e=parseInt(e);for(let a=0;a<t.length;a++)a<e?t[a].classList.add("active"):t[a].classList.remove("active");a.value=e}r.addEventListener("click",(function(){e+=10,displayReviews(10,"reviews-popup-list",e)}))}));
<<<<<<< HEAD
function updateCartBtns(){document.querySelector(".same-card").innerHTML="",document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${r}"]:checked`).forEach((e=>{n.push(e.value)})),buyBtnFunc(e,n)}))}))}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelector(".top-nav");e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("activemobile")}));const r=document.querySelector(".mobile-filter"),n=document.querySelector(".filter"),o=document.querySelector(".cancel-filter");document.querySelector(".active-filter");r.addEventListener("click",(function(e){e.preventDefault(),n.classList.add("active-filter")})),o.addEventListener("click",(function(){n.classList.remove("active-filter")}));const c=document.querySelectorAll(".select");c.forEach((e=>{const t=e.querySelector(".select__in"),r=e.querySelectorAll(".select__item"),n=e.querySelector(".select__input"),o=new Event("change");t.addEventListener("click",(()=>{c.forEach((t=>{t!==e&&t.classList.remove("is-opened")})),e.classList.toggle("is-opened")})),r.forEach((c=>{c.addEventListener("click",(()=>{n.value=c.dataset.value,n.dispatchEvent(o),t.innerHTML=c.innerHTML,r.forEach((e=>{e.classList.remove("is-active")})),c.classList.add("is-active"),e.classList.remove("is-opened")}))}))})),document.addEventListener("click",(e=>{e.target.closest(".select")||c.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),document.addEventListener("keyup",(e=>{"Escape"==e.key&&c.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),orders.orderSumWithNoDiscount=0,orders.orderSumWithDiscount=0,orders.orderSum=0;const a=document.querySelector(".card-bott"),i=document.querySelector(".filter-season"),d=document.querySelector(".popap-card"),l=document.querySelector(".same-card"),s=12;let u,p=1,m=1,f=[];function y(e){const t=(e-1)*s,r=t+s,n=f.slice(t,r);var o,c;o=n,(c=a).innerHTML="",o.forEach((e=>{const t=h(e);c.appendChild(t)}))}function h(e){const t=document.createElement("figure"),r=document.createElement("figcaption");if(""!==e.saleprice){const t=document.createElement("span"),n=100-100*parseFloat(e.price)/parseFloat(e.saleprice);t.classList.add("card-flag"),t.innerText=`sale -${n.toFixed(0)}%`,r.appendChild(t)}t.classList.add("card-box",e.category,e.color,e.model,e.material,e.style,e.size40,e.size41,e.size42,e.size43,e.size44,e.size45),t.appendChild(r);const n=document.createElement("a");n.classList.add("click-card"),n.href="#",n.setAttribute("data-value",e.id),n.addEventListener("click",(function(t){t.preventDefault(),function(e,t){if(t){u=t;const e=f.find((e=>e.id===t));e&&(!function(){const e=document.querySelector(".choise-size_popap"),t=document.querySelector(".choise-color_popap"),r=document.querySelector(".same-card"),n=document.querySelector(".descript-popap"),o=document.querySelector(".producer-card_popap"),c=document.querySelector(".country-card_popap"),a=document.querySelector(".kind-card_popap"),i=document.querySelector(".season-card_popap"),d=document.querySelector(".material-top_popap"),l=document.querySelector(".material-bottom_popap"),s=document.querySelector(".material-sole_popap"),u=document.querySelector(".style-card_popap");e.innerHTML="",n.innerHTML="",o.innerHTML="",c.innerHTML="",a.innerHTML="",i.innerHTML="",d.innerHTML="",l.innerHTML="",s.innerHTML="",c.innerHTML="",u.innerHTML="";const p=document.querySelector(".color-form-popap");p&&p.parentNode===t&&t.removeChild(p);availableColors=[],r&&(r.innerHTML="")}(),function(e){const t=document.querySelector(".description-card_popap"),r=document.querySelector(".new-price-popap"),n=document.querySelector(".code-card_popap"),o=document.querySelector(".price-popap"),c=document.querySelector(".main-card-img"),a=document.querySelector(".small-img-first"),i=document.querySelector(".small-img-second"),s=document.querySelector(".small-img-last"),p=document.querySelector(".choise-color_popap"),m=document.querySelector(".descript-popap"),y=document.querySelector(".producer-card_popap"),v=document.querySelector(".country-card_popap"),S=document.querySelector(".kind-card_popap"),q=document.querySelector(".season-card_popap"),L=document.querySelector(".material-top_popap"),b=document.querySelector(".material-bottom_popap"),E=document.querySelector(".material-sole_popap"),g=document.querySelector(".style-card_popap");producerInfo=document.createElement("p"),producerInfo.innerText="виробник",producerInfo2=document.createElement("p"),producerInfo2.classList.add("bold-card"),producerInfo2.innerText=e.producer,y.appendChild(producerInfo),y.appendChild(producerInfo2),countryInfo=document.createElement("p"),countryInfo.innerText="країна виробник",countryInfo2=document.createElement("p"),countryInfo2.innerText=e.country,countryInfo2.classList.add("bold-card"),v.appendChild(countryInfo),v.appendChild(countryInfo2),kindInfo=document.createElement("p"),kindInfo.innerText="вид взуття",kindInfo1=document.createElement("p"),kindInfo1.classList.add("bold-card"),kindInfo1.innerText=e.kind,S.appendChild(kindInfo),S.appendChild(kindInfo1),seasonInfo=document.createElement("p"),seasonInfo.innerText="сезон",seasonInfo1=document.createElement("p"),seasonInfo1.classList.add("bold-card"),seasonInfo1.innerText=e.seasonHaract,q.appendChild(seasonInfo),q.appendChild(seasonInfo1),materialTopInfo=document.createElement("p"),materialTopInfo.innerText="матеріал верху",materialTopInfo1=document.createElement("p"),materialTopInfo1.classList.add("bold-card"),materialTopInfo1.innerText=e.materialTop,L.appendChild(materialTopInfo),L.appendChild(materialTopInfo1),materialBottomInfo=document.createElement("p"),materialBottomInfo.innerText="матеріал підкладки",materialBottomInfo1=document.createElement("p"),materialBottomInfo1.classList.add("bold-card"),materialBottomInfo1.innerText=e.materialBottom,b.appendChild(materialBottomInfo),b.appendChild(materialBottomInfo1),materialSoleInfo=document.createElement("p"),materialSoleInfo.innerText="матеріал підошви",materialSoleInfo1=document.createElement("p"),materialSoleInfo1.classList.add("bold-card"),materialSoleInfo1.innerText=e.materialSole,E.appendChild(materialSoleInfo),E.appendChild(materialSoleInfo1),styleCardInfo=document.createElement("p"),styleCardInfo.innerText="стиль",styleCardInfo1=document.createElement("p"),styleCardInfo1.classList.add("bold-card"),styleCardInfo1.innerText=e.styleCard,g.appendChild(styleCardInfo),g.appendChild(styleCardInfo1),t.innerText=e.head,r.innerText=e.price,n.innerText=e.id,o.innerText=e.saleprice,c.src=e.img,c.alt=e.alt,a.src=e.imgPopap1,a.alt=e.altPopap1,i.src=e.imgPopap2,i.alt=e.altPopap2,s.src=e.imgPopap3,s.alt=e.altPopap3;const k=document.createElement("ol"),T=document.createElement("p");if(e.bottomDescript){const t=document.createElement("p");t.innerText=e.bottomDescript,m.appendChild(t)}m.appendChild(T),T.innerText=e.descript;const x=[e.list1,e.list2,e.list3,e.list4,e.list5,e.list6].filter(Boolean);for(const e of x){const t=document.createElement("li");t.innerText=e,k.appendChild(t)}m.appendChild(k);const C=["40","41","42","43","44","45"],D=document.querySelector(".choise-size_popap");for(const t of C){const r=document.createElement("input");r.type="checkbox",r.id=`popup-input-${e.id}-${t}`,r.name="size-popap",r.value=t;const n=document.createElement("label");n.classList.add(`label${t}`),n.setAttribute("for",`popup-input-${e.id}-${t}`),n.innerText=`${t}`,r.disabled=!(`size${t}`in e),D.appendChild(r),D.appendChild(n)}const I=document.createElement("form");I.classList.add("color-form-popap"),p.appendChild(I);let P=[e.color,e.color1,e.color2].filter(Boolean);console.log(P),P.forEach((function(t){const r=t+"-popap"+e.id,n=document.createElement("input");n.type="checkbox",n.id=r,n.name="color-popap",n.value=t;const o=document.createElement("label");switch(o.htmlFor=r,t){case"blue":console.log("blue"),o.classList.add("blue");break;case"black":console.log("black"),o.classList.add("black");break;case"green":console.log("green"),o.classList.add("haki");break;case"brown":console.log("brown"),o.classList.add("brown")}I.appendChild(n),I.appendChild(o)}));const N=document.querySelector(".min-count_card"),A=document.querySelector(".max-count_card"),$=document.querySelector(".num-count-card");let M=1;const _=()=>{M<10&&(M++,$.innerText=M)},W=()=>{M>1&&(M--,$.innerText=M)};N.addEventListener("click",W),A.addEventListener("click",_);let w=e.color;const O=4;l.innerHTML="",function(e,t,r,n){let o=0,c=!1;const a=document.querySelector(".text-same-card");e.forEach((e=>{if(o<n&&t&&e.color===t&&u!==e.id){const t=h(e);r.appendChild(t),o++,c=!0,a.innerText="схожі товари"}})),c||(a.innerText="Нажаль схожих товарів не знайдено.",r.appendChild(a))}(f,w,l,O);let B=document.querySelector(".cta-popap");B.setAttribute("data-value",e.id),B.addEventListener("click",(function(e){e.preventDefault(),d.style.display="none"})),btnSimilar()}(e),d.style.display="grid")}else console.error("error")}(0,e.id),H()})),r.appendChild(n);const o=document.createElement("img");o.src=e.img,o.alt=e.alt,r.appendChild(o);const c=document.createElement("h2");c.classList.add("header-card"),c.innerText=e.head,r.appendChild(c);const a=document.createElement("p");a.classList.add("old-price"),a.innerText=e.saleprice,r.appendChild(a);const i=document.createElement("p"),s=parseInt(e.price.replace(/\D/g,""));t.dataset.price=s,i.classList.add("new-price"),i.innerText=e.price,r.appendChild(i);const p=document.createElement("div");p.classList.add("input-block"),r.appendChild(p);const m=["40","41","42","43","44","45"];for(const t of m){const r=document.createElement("input");r.type="checkbox",r.name="size-radio",r.id=`input-${e.id}-${t}`,r.value=t;const n=document.createElement("label");n.classList.add(`label${t}`),n.setAttribute("for",`input-${e.id}-${t}`),n.innerText=`${t}`,r.disabled=!(`size${t}`in e),p.appendChild(r),p.appendChild(n)}const y=document.createElement("a");return y.classList.add("cta-card"),y.setAttribute("data-value",e.id),y.innerText=e.cta,y.href="#",r.appendChild(y),t}document.querySelector(".back-to-main").addEventListener("click",(function(e){e.preventDefault(),d.style.display="none",document.querySelector(".same-card").innerHTML=""}));const v=document.querySelectorAll(".card-cta-season"),S=["winter","summer","demiseason"],q=localStorage.getItem("lastSelectedCategory");function L(e){f.forEach((t=>{const r=document.querySelector(`.${t.category}`);r&&(r.style.display="#all"===e||e===`#${t.category}`?"block":"none")}))}i.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&(D=e.target.getAttribute("data-href"),localStorage.setItem("lastSelectedCategory",D),$(),L(D),y(p))}));document.querySelector(".select__input").addEventListener("change",(function(){!function(e){const t=document.querySelector(".select__input");switch(parseInt(t.value)){case 2:e.sort(((e,t)=>parseFloat(t.price)-parseFloat(e.price)));break;case 3:e.sort(((e,t)=>parseFloat(e.price)-parseFloat(t.price)))}}(f);y(p),T(),C(),updateCartBtns()}));document.querySelectorAll(".readmore").forEach((e=>{e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("visible"),e.classList.toggle("readmore-active")}))}));const b=document.querySelector(".cta-size-popap"),E=document.querySelector(".cancel-size-popap"),g=document.querySelector(".size-block_popap"),k=document.querySelector(".bg-size-popap");function T(){var e=document.querySelector("#pagination");if(e.innerHTML="",m>1){e.appendChild(x("←","arrow-pag prev",(function(){p>1&&(p--,y(p),T(),C())})));const t=4,r=Math.floor(t/2),n=Math.max(1,p-r),o=Math.min(m,n+t-1);n>1&&(e.appendChild(x(1,"",(function(){p=1,y(p),T(),C()}))),n>2&&e.appendChild(x("...","ellipsis",(function(){}))));for(let t=n;t<=o;t++)!function(t){e.appendChild(x(t,t===p?"active":"",(function(){p=t,y(p),T(),C()})))}(t);o<m&&(o<m-1&&e.appendChild(x("...","ellipsis",(function(){}))),e.appendChild(x(m,"",(function(){p=m,y(p),T(),C()})))),e.appendChild(x("→","arrow-pag next",(function(){p<m&&(p++,y(p),T(),C())})))}}function x(e,t,r){const n=document.createElement("button");return n.innerText=e,n.className=t,n.onclick=r,n}function C(){const e=document.querySelector("#pagination").getElementsByTagName("button");for(var t=0;t<e.length;t++){parseInt(e[t].innerText)===p?(e[t].classList.add("current-page"),e[t].disabled=!0):(e[t].classList.remove("current-page"),e[t].disabled=!1)}}b.addEventListener("click",(function(){g.style.display="block",k.style.display="block",g.classList.add("active-size-popap")})),E.addEventListener("click",(function(){g.style.display="none",k.style.display="none",g.classList.remove("active-size-popap")})),fetch("products.json").then((e=>e.json())).then((e=>{f=e,m=Math.ceil(f.length/s),y(p),T(),L(D)})).catch((e=>console.error("Помилка завантаження даних:",e)));let D=q;v.forEach((e=>{e.classList.add("card-cta-season"),e.addEventListener("mouseenter",(function(){e.classList.contains("selected")||e.classList.add("hovered")})),e.addEventListener("mouseleave",(function(){e.classList.remove("hovered")}))})),q||(D="#all",localStorage.setItem("lastSelectedCategory",D));const I=document.querySelector(`[data-href="${D}"]`);function L(e){S.forEach((t=>{document.querySelectorAll(`.${t}`).forEach((r=>{r.style.display=e===`${t}`||"#all"===e?"block":"none"}))}))}function P(){const e=parseInt(document.querySelector(".input-min").value)||0,t=parseInt(document.querySelector(".input-max").value)||1e4,r=N("size"),n=N("color"),o=N("model"),c=N("season"),a=N("material"),i=N("style");S.forEach((d=>{document.querySelectorAll(`.${d}`).forEach((d=>{const l=A(d.classList,r)&&A(d.classList,n)&&A(d.classList,o)&&A(d.classList,c)&&A(d.classList,a)&&A(d.classList,i)&&function(e,t,r){const n=parseInt(e.dataset.price);return n>=t&&n<=r}(d,e,t);d.style.display=l?"grid":"none"}))}))}function N(e){return Array.from(document.querySelectorAll(`input[name="${e}"]:checked`)).map((e=>e.value))}function A(e,t){return 0===t.length||t.some((t=>e.contains(t)))}function $(){document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1})),document.querySelector(".input-min").value="0",document.querySelector(".input-max").value="10000",document.querySelector(".range-min").value="0",document.querySelector(".range-max").value="10000",document.querySelectorAll(".product-card").forEach((e=>{e.style.display="grid"})),P()}I&&I.classList.add("selected"),S.forEach((e=>{document.querySelectorAll(`.${e}`).forEach((t=>{t.style.display=D===`${e}`||"#all"===D?"block":"none"}))})),v.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),v.forEach((e=>{e.classList.remove("selected","hovered")})),e.classList.add("selected");let r=t.target.getAttribute("data-href");localStorage.setItem("lastSelectedCategory",r),L(r)}))})),document.querySelector(".submit-filter").addEventListener("click",(function(e){e.preventDefault(),P()})),document.querySelector('button.cta-transparent.reset-filter[type="reset"]').addEventListener("click",(function(e){e.preventDefault(),$()}));const M=document.querySelectorAll(".slider-images img"),_=document.querySelector(".arr-left"),W=document.querySelector(".arr-right"),w=document.querySelectorAll(".slide-description");let O=0;function B(){w[O].classList.remove("active"),M[O].classList.remove("active"),O=(O+1)%M.length,M[O].classList.add("active"),w[O].classList.add("active")}B();let z=setInterval(B,3e3);_.addEventListener("click",(function(){clearInterval(z),w[O].classList.remove("active"),M[O].classList.remove("active"),O=(O-1+M.length)%M.length,M[O].classList.add("active"),w[O].classList.add("active"),z=setInterval(B,3e3)})),W.addEventListener("click",(function(){clearInterval(z),B(),z=setInterval(B,3e3)}));const H=document.querySelector(".cart"),F=document.querySelector("#basket-popup-outline"),j=document.querySelector(".basket-back"),R=document.querySelector("body");function Q(){F.classList.toggle("d-block"),R.classList.toggle("hidden")}H.addEventListener("click",Q),j.addEventListener("click",Q);const J=document.querySelectorAll(".range-input input"),U=document.querySelectorAll(".price-input input"),G=document.querySelector(".slider .progress");let K=1e3;U.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(U[0].value),r=parseInt(U[1].value);r-t>=K&&r<=J[1].max&&("input-min"===e.target.className?(J[0].value=t,G.style.left=t/J[0].max*100+"%"):(J[1].value=r,G.style.right=100-r/J[1].max*100+"%"))}))})),J.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(J[0].value),r=parseInt(J[1].value);r-t<K?"range-min"===e.target.className?J[0].value=r-K:J[1].value=t+K:(U[0].value=t,U[1].value=r,G.style.left=t/J[0].max*100+"%",G.style.right=100-r/J[1].max*100+"%")}))}));let V=document.querySelector(".img-carousel"),X=document.querySelectorAll(".step-block");const Y=document.querySelectorAll(".img-carousel img");!function(){let e=0;X.forEach((function(t){e+=t.getBoundingClientRect().height})),window,innerHeight>=960&&(V.style.height=e+40+"px")}();let Z=0;setInterval((function(){Y[Z].classList.remove("active"),Z=(Z+1)%Y.length,Y[Z].classList.add("active")}),3e3)}));let orderDetailSum=document.querySelector(".order-total-price"),orderWithDiscountPrice=document.querySelector(".price-totally b"),orderWithDiscountPriceCalc=0,numberOfProductsDOM=document.querySelector(".calc-added-products"),caclnumberOfProducts=0,addedProductsList=document.querySelector(".added-products-list "),orderDiscount=document.querySelector(".order-discount"),orderDiscountCalc=0;orders={};const cartWaitTimeout=setTimeout((function(){cart()}),1e3);function buyBtnFunc(e,t,r,n){let o=e.dataset.value;fetch("products.json").then((e=>e.json())).then((e=>{const c=e.find((e=>e.id===o));""===c.saleprice&&(c.saleprice=c.price);for(let e=0;e<t.length;e++)if(orders[o+t[e]])if(r)for(let n=r;n>0;n--)console.log(n),document.querySelector(".plus-quantity[data-value='"+o+t[e]+"']").click();else t.length>1?document.querySelector(".plus-quantity[data-value='"+o+t[e]+"']").click():document.querySelector(".plus-quantity[data-value='"+o+t[0]+"']").click();else orders[o+t[e]]={product:c,quantity:r?Number(r):1},orders[o+t[e]].color=n||orders[o+t[e]].product.color,t&&(orders[o+t[e]].size=t[e]),orders.orderSumWithNoDiscount+=""!=orders[o+t[e]].product.saleprice?Number(orders[o+t[e]].product.saleprice.slice(0,-4))*orders[o+t[e]].quantity:0,orders.orderSumWithDiscount+=Number(orders[o+t[e]].product.price.slice(0,-4))*orders[o+t[e]].quantity,updateCart(o,orders[o+t[e]].size,n),plusBtn(".plus-quantity[data-value='"+o+t[e]+"']"),minBtn(".minus-quantity[data-value='"+o+t[e]+"']"),r?caclnumberOfProducts+=Number(r):caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=r?(Number(orders[o+t[e]].product.saleprice.slice(0,-4))-Number(orders[o+t[e]].product.price.slice(0,-4)))*Number(r):(Number(orders[o+t[e]].product.saleprice.slice(0,-4))-Number(orders[o+t[e]].product.price.slice(0,-4)))*orders[o+t[e]].quantity,orderDiscount.innerText=orderDiscountCalc,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount}))}function updateCart(e,t,r){fetch("products.json").then((e=>e.json())).then((n=>{const o=n.find((t=>t.id===e)),c=r||o.color,a=(o.color,document.createElement("div"));a.innerHTML=`\n            <div class="basket-card flex-between" data-value=${o.id+""+t}>\n                <img src=${o.img}>\n                \n                <div class="w-100 flex-between items-center">\n                    <div class="description">\n                        <div>\n                            <h3>${o.head}</h3>\n                            <table>\n                                <tr>\n                                    <td>колір</td>\n                                    <td>${c}</td>\n                                </tr>\n                                <tr>\n                                    <td>розмір</td>\n                                    <td class="size-span">${t}</td>\n                                </tr>\n                                <tr>\n                                    <td>ціна</td>\n                                    <td>${o.price} <span>${o.saleprice}</span></td>\n                                </tr>\n                                <tr>\n                                    <td>кількість</td>\n                                    <td>\n                                        <div class="quantity flex">\n                                            <div class="minus-quantity" data-value="${o.id+""+t}">-</div>\n                                            <div class="quantity-number">${orders[o.id+t].quantity}</div>\n                                            <div class="plus-quantity" data-value="${o.id+""+t}">+</div>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </table>\n                            <div class="delete-product">видалити товар</div>\n                        </div>\n                    </div>\n                    <div class="total-price">\n                        <span>${Number(orders[o.id+t].product.price.slice(0,-4))*orders[o.id+t].quantity+" грн"}</span>\n                    </div>\n                </div>\n            </div>\n        `,addedProductsList.appendChild(a)}))}function cart(){if(document.querySelectorAll(".cta-card")){clearTimeout(cartWaitTimeout);document.querySelectorAll(".cta-card"),document.querySelector("#orderConfirmProductsQuantity");document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${r}"]:checked`).forEach((e=>{n.push(e.value)})),buyBtnFunc(e,n)}))})),document.querySelectorAll(".cta-popap").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];let o="";document.querySelectorAll(`.popap-card input[type="checkbox"][id^="popup-input-${r}"]:checked`).forEach((e=>{n.push(e.value),alert(e.value)})),document.querySelectorAll('.popap-card input[name="color-popap"]:checked').forEach((e=>{o=e.value}));let c=document.querySelector(".popap-card .quantity-number");console.log(document.querySelectorAll(`choise-size_popap input[type="checkbox"][id^="popup-input-${r}"]:checked`)),console.log(e),console.log(n),console.log(c.innerText),buyBtnFunc(e,n,c.innerText,o)}))}))}}const inputMasks=document.querySelectorAll(".inputMask");function plusBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=this.dataset.value.slice(0,-2);t.find((e=>e.id===r));const n=e;if(orders[n]){orders[n].quantity+=1;const t=addedProductsList.querySelector('[data-value="'+e+'"] .total-price span'),r=addedProductsList.querySelector('[data-value="'+e+'"] .quantity-number');t.innerText=orders[n].product.price.slice(0,-4)*orders[n].quantity+" грн",r.innerText=orders[n].quantity,orders.orderSumWithNoDiscount+=0!==orders[n].product.saleprice?Number(orders[n].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount+=Number(orders[n].product.price.slice(0,-4))}orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}))}))}function minBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=e.slice(0,-2);t.find((e=>e.id===r));const n=e;if(orders[n]&&1!==orders[n].quantity){orders[n].quantity-=1;const t=addedProductsList.querySelector('[data-value="'+n+'"] .total-price span'),o=addedProductsList.querySelector('[data-value="'+n+'"] .quantity-number');orders[n].totalPrice=Number(orders[n].product.price.slice(0,-4))*orders[n].quantity,t.innerText=orders[n].totalPrice+" грн",o.innerText=orders[n].quantity,orders.orderSumWithNoDiscount-=""!=orders[n].product.saleprice?Number(orders[n].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount-=Number(orders[n].product.price.slice(0,-4)),1!==o&&caclnumberOfProducts--,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,orderDiscountCalc-=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}}))}))}function sendData(e){const t=JSON.stringify(e);document.querySelector("#orderProductsObject").value=t}function btnSimilar(){document.querySelectorAll(".popap-card .cta-card").forEach((function(e){e.addEventListener("click",(function(){let t=this.dataset.value,r=[];document.querySelectorAll(`.popap-card input[type="checkbox"][id^="input-${t}"]:checked`).forEach((e=>{r.push(e.value)})),buyBtnFunc(e,r)}))}))}inputMasks.forEach((function(e){e.value="+38",e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+38")||(e.value="+38"+t.slice(3))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".cta-card").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".plus-quantity");plusBtn()}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){if(e.target.classList.contains("delete-product")){const t=e.target.closest(".basket-card"),r=t.dataset.value;if(orders[r]){orders[r].size;caclnumberOfProducts-=orders[r].quantity,numberOfProductsDOM.innerText=caclnumberOfProducts,orders.orderSumWithNoDiscount-=Number(orders[r].product.saleprice.slice(0,-4))*orders[r].quantity,orderDetailSum.innerText=orders.orderSumWithNoDiscount,orderDiscountCalc-=(Number(orders[r].product.saleprice.slice(0,-4))-Number(orders[r].product.price.slice(0,-4)))*orders[r].quantity,orderDiscount.innerText=orderDiscountCalc,orders.orderSumWithDiscount-=Number(orders[r].product.price.slice(0,-4))*orders[r].quantity,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,delete orders[r],t.remove()}}}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#openConfirmPopup"),t=document.querySelector("#popup-confirm-outline"),r=document.querySelector(".confirm-back");e.addEventListener("click",(function(){if(Object.keys(orders).length>3){t.classList.toggle("d-block"),sendData(orders);let e=document.querySelector("#confirmPrice"),r=document.querySelector("#confirmTotalPrice");orderConfirmProductsQuantity.innerText=caclnumberOfProducts+" ",r.innerText=orders.orderSumWithDiscount+" грн",e.innerText=orders.orderSumWithNoDiscount+" грн"}})),r.addEventListener("click",(function(){t.classList.toggle("d-block")}))}));const openReviewsPopup=document.querySelector(".allReviewsPopupOpen"),reviewsPopup=document.querySelector(".allReviewsPopup"),reviewsBack=document.querySelector(".reviews-back"),setReview=document.querySelector(".setReview");openReviewsPopup.addEventListener("click",(function(e){e.preventDefault(),reviewsPopup.classList.toggle("d-block")})),setReview.addEventListener("click",(function(e){e.preventDefault(),reviewsPopup.classList.toggle("d-block")})),reviewsBack.addEventListener("click",(function(){reviewsPopup.classList.toggle("d-block")}));
=======
function updateCartBtns(){document.querySelector(".same-card").innerHTML="",document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${r}"]:checked`).forEach((e=>{n.push(e.value)})),buyBtnFunc(e,n)}))}))}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelector(".top-nav");e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("activemobile")}));const r=document.querySelector(".mobile-filter"),n=document.querySelector(".filter"),o=document.querySelector(".cancel-filter");document.querySelector(".active-filter");r.addEventListener("click",(function(e){e.preventDefault(),n.classList.add("active-filter")})),o.addEventListener("click",(function(){n.classList.remove("active-filter")}));const c=document.querySelectorAll(".select");c.forEach((e=>{const t=e.querySelector(".select__in"),r=e.querySelectorAll(".select__item"),n=e.querySelector(".select__input"),o=new Event("change");t.addEventListener("click",(()=>{c.forEach((t=>{t!==e&&t.classList.remove("is-opened")})),e.classList.toggle("is-opened")})),r.forEach((c=>{c.addEventListener("click",(()=>{n.value=c.dataset.value,n.dispatchEvent(o),t.innerHTML=c.innerHTML,r.forEach((e=>{e.classList.remove("is-active")})),c.classList.add("is-active"),e.classList.remove("is-opened")}))}))})),document.addEventListener("click",(e=>{e.target.closest(".select")||c.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),document.addEventListener("keyup",(e=>{"Escape"==e.key&&c.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),orders.orderSumWithNoDiscount=0,orders.orderSumWithDiscount=0,orders.orderSum=0;const a=document.querySelector(".card-bott"),i=document.querySelector(".filter-season"),d=document.querySelector(".popap-card"),l=document.querySelector(".same-card"),s=12;let u,p=1,m=1,f=[];function y(e){const t=(e-1)*s,r=t+s,n=f.slice(t,r);var o,c;o=n,(c=a).innerHTML="",o.forEach((e=>{const t=h(e);c.appendChild(t)}))}function h(e){const t=document.createElement("figure"),r=document.createElement("figcaption");if(""!==e.saleprice){const t=document.createElement("span"),n=100-100*parseFloat(e.price)/parseFloat(e.saleprice);t.classList.add("card-flag"),t.innerText=`sale -${n.toFixed(0)}%`,r.appendChild(t)}t.classList.add("card-box",e.category,e.color,e.model,e.material,e.style,e.size40,e.size41,e.size42,e.size43,e.size44,e.size45),t.appendChild(r);const n=document.createElement("a");n.classList.add("click-card"),n.href="#",n.setAttribute("data-value",e.id),n.addEventListener("click",(function(t){t.preventDefault(),function(e,t){if(t){u=t;const e=f.find((e=>e.id===t));e&&(!function(){const e=document.querySelector(".choise-size_popap"),t=document.querySelector(".choise-color_popap"),r=document.querySelector(".same-card"),n=document.querySelector(".descript-popap"),o=document.querySelector(".producer-card_popap"),c=document.querySelector(".country-card_popap"),a=document.querySelector(".kind-card_popap"),i=document.querySelector(".season-card_popap"),d=document.querySelector(".material-top_popap"),l=document.querySelector(".material-bottom_popap"),s=document.querySelector(".material-sole_popap"),u=document.querySelector(".style-card_popap");e.innerHTML="",n.innerHTML="",o.innerHTML="",c.innerHTML="",a.innerHTML="",i.innerHTML="",d.innerHTML="",l.innerHTML="",s.innerHTML="",c.innerHTML="",u.innerHTML="";const p=document.querySelector(".color-form-popap");p&&p.parentNode===t&&t.removeChild(p);availableColors=[],r&&(r.innerHTML="")}(),function(e){const t=document.querySelector(".description-card_popap"),r=document.querySelector(".new-price-popap"),n=document.querySelector(".code-card_popap"),o=document.querySelector(".price-popap"),c=document.querySelector(".main-card-img"),a=document.querySelector(".small-img-first"),i=document.querySelector(".small-img-second"),s=document.querySelector(".small-img-last"),p=document.querySelector(".choise-color_popap"),m=document.querySelector(".descript-popap"),y=document.querySelector(".producer-card_popap"),v=document.querySelector(".country-card_popap"),S=document.querySelector(".kind-card_popap"),q=document.querySelector(".season-card_popap"),L=document.querySelector(".material-top_popap"),b=document.querySelector(".material-bottom_popap"),E=document.querySelector(".material-sole_popap"),g=document.querySelector(".style-card_popap");producerInfo=document.createElement("p"),producerInfo.innerText="виробник",producerInfo2=document.createElement("p"),producerInfo2.classList.add("bold-card"),producerInfo2.innerText=e.producer,y.appendChild(producerInfo),y.appendChild(producerInfo2),countryInfo=document.createElement("p"),countryInfo.innerText="країна виробник",countryInfo2=document.createElement("p"),countryInfo2.innerText=e.country,countryInfo2.classList.add("bold-card"),v.appendChild(countryInfo),v.appendChild(countryInfo2),kindInfo=document.createElement("p"),kindInfo.innerText="вид взуття",kindInfo1=document.createElement("p"),kindInfo1.classList.add("bold-card"),kindInfo1.innerText=e.kind,S.appendChild(kindInfo),S.appendChild(kindInfo1),seasonInfo=document.createElement("p"),seasonInfo.innerText="сезон",seasonInfo1=document.createElement("p"),seasonInfo1.classList.add("bold-card"),seasonInfo1.innerText=e.seasonHaract,q.appendChild(seasonInfo),q.appendChild(seasonInfo1),materialTopInfo=document.createElement("p"),materialTopInfo.innerText="матеріал верху",materialTopInfo1=document.createElement("p"),materialTopInfo1.classList.add("bold-card"),materialTopInfo1.innerText=e.materialTop,L.appendChild(materialTopInfo),L.appendChild(materialTopInfo1),materialBottomInfo=document.createElement("p"),materialBottomInfo.innerText="матеріал підкладки",materialBottomInfo1=document.createElement("p"),materialBottomInfo1.classList.add("bold-card"),materialBottomInfo1.innerText=e.materialBottom,b.appendChild(materialBottomInfo),b.appendChild(materialBottomInfo1),materialSoleInfo=document.createElement("p"),materialSoleInfo.innerText="матеріал підошви",materialSoleInfo1=document.createElement("p"),materialSoleInfo1.classList.add("bold-card"),materialSoleInfo1.innerText=e.materialSole,E.appendChild(materialSoleInfo),E.appendChild(materialSoleInfo1),styleCardInfo=document.createElement("p"),styleCardInfo.innerText="стиль",styleCardInfo1=document.createElement("p"),styleCardInfo1.classList.add("bold-card"),styleCardInfo1.innerText=e.styleCard,g.appendChild(styleCardInfo),g.appendChild(styleCardInfo1),t.innerText=e.head,r.innerText=e.price,n.innerText=e.id,o.innerText=e.saleprice,c.src=e.img,c.alt=e.alt,a.src=e.imgPopap1,a.alt=e.altPopap1,i.src=e.imgPopap2,i.alt=e.altPopap2,s.src=e.imgPopap3,s.alt=e.altPopap3;const k=document.createElement("ol"),T=document.createElement("p");if(e.bottomDescript){const t=document.createElement("p");t.innerText=e.bottomDescript,m.appendChild(t)}m.appendChild(T),T.innerText=e.descript;const x=[e.list1,e.list2,e.list3,e.list4,e.list5,e.list6].filter(Boolean);for(const e of x){const t=document.createElement("li");t.innerText=e,k.appendChild(t)}m.appendChild(k);const C=["40","41","42","43","44","45"],D=document.querySelector(".choise-size_popap");for(const t of C){const r=document.createElement("input");r.type="checkbox",r.id=`popup-input-${e.id}-${t}`,r.name="size-popap",r.value=t;const n=document.createElement("label");n.classList.add(`label${t}`),n.setAttribute("for",`popup-input-${e.id}-${t}`),n.innerText=`${t}`,r.disabled=!(`size${t}`in e),D.appendChild(r),D.appendChild(n)}const I=document.createElement("form");I.classList.add("color-form-popap"),p.appendChild(I);let P=[e.color,e.color1,e.color2].filter(Boolean);console.log(P),P.forEach((function(t){const r=t+"-popap"+e.id,n=document.createElement("input");n.type="checkbox",n.id=r,n.name="color-popap",n.value=t;const o=document.createElement("label");switch(o.htmlFor=r,t){case"blue":console.log("blue"),o.classList.add("blue");break;case"black":console.log("black"),o.classList.add("black");break;case"green":console.log("green"),o.classList.add("haki");break;case"brown":console.log("brown"),o.classList.add("brown")}I.appendChild(n),I.appendChild(o)}));const N=document.querySelector(".min-count_card"),A=document.querySelector(".max-count_card"),$=document.querySelector(".num-count-card");let M=1;const _=()=>{M<10&&(M++,$.innerText=M)},W=()=>{M>1&&(M--,$.innerText=M)};N.addEventListener("click",W),A.addEventListener("click",_);let w=e.color;const O=4;l.innerHTML="",function(e,t,r,n){let o=0,c=!1;const a=document.querySelector(".text-same-card");e.forEach((e=>{if(o<n&&t&&e.color===t&&u!==e.id){const t=h(e);r.appendChild(t),o++,c=!0,a.innerText="схожі товари"}})),c||(a.innerText="Нажаль схожих товарів не знайдено.",r.appendChild(a))}(f,w,l,O);let B=document.querySelector(".cta-popap");B.setAttribute("data-value",e.id),B.addEventListener("click",(function(e){e.preventDefault(),d.style.display="none"})),btnSimilar()}(e),d.style.display="grid")}else console.error("error")}(0,e.id),H()})),r.appendChild(n);const o=document.createElement("img");o.src=e.img,o.alt=e.alt,r.appendChild(o);const c=document.createElement("h2");c.classList.add("header-card"),c.innerText=e.head,r.appendChild(c);const a=document.createElement("p");a.classList.add("old-price"),a.innerText=e.saleprice,r.appendChild(a);const i=document.createElement("p"),s=parseInt(e.price.replace(/\D/g,""));t.dataset.price=s,i.classList.add("new-price"),i.innerText=e.price,r.appendChild(i);const p=document.createElement("div");p.classList.add("input-block"),r.appendChild(p);const m=["40","41","42","43","44","45"];for(const t of m){const r=document.createElement("input");r.type="checkbox",r.name="size-radio",r.id=`input-${e.id}-${t}`,r.value=t;const n=document.createElement("label");n.classList.add(`label${t}`),n.setAttribute("for",`input-${e.id}-${t}`),n.innerText=`${t}`,r.disabled=!(`size${t}`in e),p.appendChild(r),p.appendChild(n)}const y=document.createElement("a");return y.classList.add("cta-card"),y.setAttribute("data-value",e.id),y.innerText=e.cta,y.href="#",r.appendChild(y),t}document.querySelector(".back-to-main").addEventListener("click",(function(e){e.preventDefault(),d.style.display="none",document.querySelector(".same-card").innerHTML=""}));const v=document.querySelectorAll(".card-cta-season"),S=["winter","summer","demiseason"],q=localStorage.getItem("lastSelectedCategory");function L(e){f.forEach((t=>{const r=document.querySelector(`.${t.category}`);r&&(r.style.display="#all"===e||e===`#${t.category}`?"block":"none")}))}i.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&(D=e.target.getAttribute("data-href"),localStorage.setItem("lastSelectedCategory",D),$(),L(D),y(p))}));document.querySelector(".select__input").addEventListener("change",(function(){!function(e){const t=document.querySelector(".select__input");switch(parseInt(t.value)){case 2:e.sort(((e,t)=>parseFloat(t.price)-parseFloat(e.price)));break;case 3:e.sort(((e,t)=>parseFloat(e.price)-parseFloat(t.price)))}}(f);y(p),T(),C(),updateCartBtns()}));document.querySelectorAll(".readmore").forEach((e=>{e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("visible"),e.classList.toggle("readmore-active")}))}));const b=document.querySelector(".cta-size-popap"),E=document.querySelector(".cancel-size-popap"),g=document.querySelector(".size-block_popap"),k=document.querySelector(".bg-size-popap");function T(){var e=document.querySelector("#pagination");if(e.innerHTML="",m>1){e.appendChild(x("←","arrow-pag prev",(function(){p>1&&(p--,y(p),T(),C())})));const t=4,r=Math.floor(t/2),n=Math.max(1,p-r),o=Math.min(m,n+t-1);n>1&&(e.appendChild(x(1,"",(function(){p=1,y(p),T(),C()}))),n>2&&e.appendChild(x("...","ellipsis",(function(){}))));for(let t=n;t<=o;t++)!function(t){e.appendChild(x(t,t===p?"active":"",(function(){p=t,y(p),T(),C()})))}(t);o<m&&(o<m-1&&e.appendChild(x("...","ellipsis",(function(){}))),e.appendChild(x(m,"",(function(){p=m,y(p),T(),C()})))),e.appendChild(x("→","arrow-pag next",(function(){p<m&&(p++,y(p),T(),C())})))}}function x(e,t,r){const n=document.createElement("button");return n.innerText=e,n.className=t,n.onclick=r,n}function C(){const e=document.querySelector("#pagination").getElementsByTagName("button");for(var t=0;t<e.length;t++){parseInt(e[t].innerText)===p?(e[t].classList.add("current-page"),e[t].disabled=!0):(e[t].classList.remove("current-page"),e[t].disabled=!1)}}b.addEventListener("click",(function(){g.style.display="block",k.style.display="block",g.classList.add("active-size-popap")})),E.addEventListener("click",(function(){g.style.display="none",k.style.display="none",g.classList.remove("active-size-popap")})),fetch("products.json").then((e=>e.json())).then((e=>{f=e,m=Math.ceil(f.length/s),y(p),T(),L(D)})).catch((e=>console.error("Помилка завантаження даних:",e)));let D=q;v.forEach((e=>{e.classList.add("card-cta-season"),e.addEventListener("mouseenter",(function(){e.classList.contains("selected")||e.classList.add("hovered")})),e.addEventListener("mouseleave",(function(){e.classList.remove("hovered")}))})),q||(D="#all",localStorage.setItem("lastSelectedCategory",D));const I=document.querySelector(`[data-href="${D}"]`);function L(e){S.forEach((t=>{document.querySelectorAll(`.${t}`).forEach((r=>{r.style.display=e===`${t}`||"#all"===e?"block":"none"}))}))}function P(){const e=parseInt(document.querySelector(".input-min").value)||0,t=parseInt(document.querySelector(".input-max").value)||1e4,r=N("size"),n=N("color"),o=N("model"),c=N("season"),a=N("material"),i=N("style");S.forEach((d=>{document.querySelectorAll(`.${d}`).forEach((d=>{const l=A(d.classList,r)&&A(d.classList,n)&&A(d.classList,o)&&A(d.classList,c)&&A(d.classList,a)&&A(d.classList,i)&&function(e,t,r){const n=parseInt(e.dataset.price);return n>=t&&n<=r}(d,e,t);d.style.display=l?"grid":"none"}))}))}function N(e){return Array.from(document.querySelectorAll(`input[name="${e}"]:checked`)).map((e=>e.value))}function A(e,t){return 0===t.length||t.some((t=>e.contains(t)))}function $(){document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1})),document.querySelector(".input-min").value="0",document.querySelector(".input-max").value="10000",document.querySelector(".range-min").value="0",document.querySelector(".range-max").value="10000",document.querySelectorAll(".product-card").forEach((e=>{e.style.display="grid"})),P()}I&&I.classList.add("selected"),S.forEach((e=>{document.querySelectorAll(`.${e}`).forEach((t=>{t.style.display=D===`${e}`||"#all"===D?"block":"none"}))})),v.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),v.forEach((e=>{e.classList.remove("selected","hovered")})),e.classList.add("selected");let r=t.target.getAttribute("data-href");localStorage.setItem("lastSelectedCategory",r),L(r)}))})),document.querySelector(".submit-filter").addEventListener("click",(function(e){e.preventDefault(),P()})),document.querySelector('button.cta-transparent.reset-filter[type="reset"]').addEventListener("click",(function(e){e.preventDefault(),$()}));const M=document.querySelectorAll(".slider-images img"),_=document.querySelector(".arr-left"),W=document.querySelector(".arr-right"),w=document.querySelectorAll(".slide-description");let O=0;function B(){w[O].classList.remove("active"),M[O].classList.remove("active"),O=(O+1)%M.length,M[O].classList.add("active"),w[O].classList.add("active")}B();let z=setInterval(B,3e3);_.addEventListener("click",(function(){clearInterval(z),w[O].classList.remove("active"),M[O].classList.remove("active"),O=(O-1+M.length)%M.length,M[O].classList.add("active"),w[O].classList.add("active"),z=setInterval(B,3e3)})),W.addEventListener("click",(function(){clearInterval(z),B(),z=setInterval(B,3e3)}));const H=document.querySelector(".cart"),F=document.querySelector("#basket-popup-outline"),j=document.querySelector(".basket-back"),R=document.querySelector("body");function Q(){F.classList.toggle("d-block"),R.classList.toggle("hidden")}H.addEventListener("click",Q),j.addEventListener("click",Q);const J=document.querySelectorAll(".range-input input"),U=document.querySelectorAll(".price-input input"),G=document.querySelector(".slider .progress");let K=1e3;U.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(U[0].value),r=parseInt(U[1].value);r-t>=K&&r<=J[1].max&&("input-min"===e.target.className?(J[0].value=t,G.style.left=t/J[0].max*100+"%"):(J[1].value=r,G.style.right=100-r/J[1].max*100+"%"))}))})),J.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(J[0].value),r=parseInt(J[1].value);r-t<K?"range-min"===e.target.className?J[0].value=r-K:J[1].value=t+K:(U[0].value=t,U[1].value=r,G.style.left=t/J[0].max*100+"%",G.style.right=100-r/J[1].max*100+"%")}))}));let V=document.querySelector(".img-carousel"),X=document.querySelectorAll(".step-block");const Y=document.querySelectorAll(".img-carousel img");!function(){let e=0;X.forEach((function(t){e+=t.getBoundingClientRect().height})),window,innerHeight>=960&&(V.style.height=e+40+"px")}();let Z=0;setInterval((function(){Y[Z].classList.remove("active"),Z=(Z+1)%Y.length,Y[Z].classList.add("active")}),3e3)}));let orderDetailSum=document.querySelector(".order-total-price"),orderWithDiscountPrice=document.querySelector(".price-totally b"),orderWithDiscountPriceCalc=0,numberOfProductsDOM=document.querySelector(".calc-added-products"),caclnumberOfProducts=0,addedProductsList=document.querySelector(".added-products-list "),orderDiscount=document.querySelector(".order-discount"),orderDiscountCalc=0;orders={};const cartWaitTimeout=setTimeout((function(){cart()}),1e3);function buyBtnFunc(e,t,r,n){let o=e.dataset.value;fetch("products.json").then((e=>e.json())).then((e=>{const c=e.find((e=>e.id===o));""===c.saleprice&&(c.saleprice=c.price);for(let e=0;e<t.length;e++)if(orders[o+t[e]])if(r)for(let n=r;n>0;n--)console.log(n),document.querySelector(".plus-quantity[data-value='"+o+t[e]+"']").click();else t.length>1?document.querySelector(".plus-quantity[data-value='"+o+t[e]+"']").click():document.querySelector(".plus-quantity[data-value='"+o+t[0]+"']").click();else orders[o+t[e]]={product:c,quantity:r?Number(r):1},t&&(orders[o+t[e]].size=t[e]),orders.orderSumWithNoDiscount+=""!=orders[o+t[e]].product.saleprice?Number(orders[o+t[e]].product.saleprice.slice(0,-4))*orders[o+t[e]].quantity:0,orders.orderSumWithDiscount+=Number(orders[o+t[e]].product.price.slice(0,-4))*orders[o+t[e]].quantity,updateCart(o,orders[o+t[e]].size,n),plusBtn(".plus-quantity[data-value='"+o+t[e]+"']"),minBtn(".minus-quantity[data-value='"+o+t[e]+"']"),r?caclnumberOfProducts+=Number(r):caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=r?(Number(orders[o+t[e]].product.saleprice.slice(0,-4))-Number(orders[o+t[e]].product.price.slice(0,-4)))*Number(r):(Number(orders[o+t[e]].product.saleprice.slice(0,-4))-Number(orders[o+t[e]].product.price.slice(0,-4)))*orders[o+t[e]].quantity,orderDiscount.innerText=orderDiscountCalc,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount}))}function updateCart(e,t,r){fetch("products.json").then((e=>e.json())).then((n=>{const o=n.find((t=>t.id===e)),c=r||o.color,a=(o.color,document.createElement("div"));a.innerHTML=`\n            <div class="basket-card flex-between" data-value=${o.id+""+t}>\n                <img src=${o.img}>\n                \n                <div class="w-100 flex-between items-center">\n                    <div class="description">\n                        <div>\n                            <h3>${o.head}</h3>\n                            <table>\n                                <tr>\n                                    <td>колір</td>\n                                    <td>${c}</td>\n                                </tr>\n                                <tr>\n                                    <td>розмір</td>\n                                    <td class="size-span">${t}</td>\n                                </tr>\n                                <tr>\n                                    <td>ціна</td>\n                                    <td>${o.price} <span>${o.saleprice}</span></td>\n                                </tr>\n                                <tr>\n                                    <td>кількість</td>\n                                    <td>\n                                        <div class="quantity flex">\n                                            <div class="minus-quantity" data-value="${o.id+""+t}">-</div>\n                                            <div class="quantity-number">${orders[o.id+t].quantity}</div>\n                                            <div class="plus-quantity" data-value="${o.id+""+t}">+</div>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </table>\n                            <div class="delete-product">видалити товар</div>\n                        </div>\n                    </div>\n                    <div class="total-price">\n                        <span>${Number(orders[o.id+t].product.price.slice(0,-4))*orders[o.id+t].quantity+" грн"}</span>\n                    </div>\n                </div>\n            </div>\n        `,addedProductsList.appendChild(a)}))}function cart(){if(document.querySelectorAll(".cta-card")){clearTimeout(cartWaitTimeout);document.querySelectorAll(".cta-card"),document.querySelector("#orderConfirmProductsQuantity");document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${r}"]:checked`).forEach((e=>{n.push(e.value)})),buyBtnFunc(e,n)}))})),document.querySelectorAll(".cta-popap").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),n=[];let o="";document.querySelectorAll(`.popap-card input[type="checkbox"][id^="popup-input-${r}"]:checked`).forEach((e=>{n.push(e.value),alert(e.value)})),document.querySelectorAll('.popap-card input[name="color-popap"]:checked').forEach((e=>{o=e.value}));let c=document.querySelector(".popap-card .quantity-number");console.log(document.querySelectorAll(`choise-size_popap input[type="checkbox"][id^="popup-input-${r}"]:checked`)),console.log(e),console.log(n),console.log(c.innerText),buyBtnFunc(e,n,c.innerText,o)}))}))}}const inputMasks=document.querySelectorAll(".inputMask");function plusBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=this.dataset.value.slice(0,-2);t.find((e=>e.id===r));const n=e;if(orders[n]){orders[n].quantity+=1;const t=addedProductsList.querySelector('[data-value="'+e+'"] .total-price span'),r=addedProductsList.querySelector('[data-value="'+e+'"] .quantity-number');t.innerText=orders[n].product.price.slice(0,-4)*orders[n].quantity+" грн",r.innerText=orders[n].quantity,orders.orderSumWithNoDiscount+=0!==orders[n].product.saleprice?Number(orders[n].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount+=Number(orders[n].product.price.slice(0,-4))}orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}))}))}function minBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=e.slice(0,-2);t.find((e=>e.id===r));const n=e;if(orders[n]&&1!==orders[n].quantity){orders[n].quantity-=1;const t=addedProductsList.querySelector('[data-value="'+n+'"] .total-price span'),o=addedProductsList.querySelector('[data-value="'+n+'"] .quantity-number');orders[n].totalPrice=Number(orders[n].product.price.slice(0,-4))*orders[n].quantity,t.innerText=orders[n].totalPrice+" грн",o.innerText=orders[n].quantity,orders.orderSumWithNoDiscount-=""!=orders[n].product.saleprice?Number(orders[n].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount-=Number(orders[n].product.price.slice(0,-4)),1!==o&&caclnumberOfProducts--,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,orderDiscountCalc-=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}}))}))}function sendData(e){const t=JSON.stringify(e);document.querySelector("#orderProductsObject").value=t}function btnSimilar(){document.querySelectorAll(".popap-card .cta-card").forEach((function(e){e.addEventListener("click",(function(){let t=this.dataset.value,r=[];document.querySelectorAll(`.popap-card input[type="checkbox"][id^="input-${t}"]:checked`).forEach((e=>{r.push(e.value)})),buyBtnFunc(e,r)}))}))}inputMasks.forEach((function(e){e.value="+38",e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+38")||(e.value="+38"+t.slice(3))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".cta-card").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".plus-quantity");plusBtn()}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){if(e.target.classList.contains("delete-product")){const t=e.target.closest(".basket-card"),r=t.dataset.value;if(orders[r]){orders[r].size;caclnumberOfProducts-=orders[r].quantity,numberOfProductsDOM.innerText=caclnumberOfProducts,orders.orderSumWithNoDiscount-=Number(orders[r].product.saleprice.slice(0,-4))*orders[r].quantity,orderDetailSum.innerText=orders.orderSumWithNoDiscount,orderDiscountCalc-=(Number(orders[r].product.saleprice.slice(0,-4))-Number(orders[r].product.price.slice(0,-4)))*orders[r].quantity,orderDiscount.innerText=orderDiscountCalc,orders.orderSumWithDiscount-=Number(orders[r].product.price.slice(0,-4))*orders[r].quantity,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,delete orders[r],t.remove()}}}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#openConfirmPopup"),t=document.querySelector("#popup-confirm-outline"),r=document.querySelector(".confirm-back");e.addEventListener("click",(function(){if(Object.keys(orders).length>3){t.classList.toggle("d-block"),sendData(orders);let e=document.querySelector("#confirmPrice"),r=document.querySelector("#confirmTotalPrice");orderConfirmProductsQuantity.innerText=caclnumberOfProducts+" ",r.innerText=orders.orderSumWithDiscount+" грн",e.innerText=orders.orderSumWithNoDiscount+" грн"}})),r.addEventListener("click",(function(){t.classList.toggle("d-block")}))}));const openReviewsPopup=document.querySelector(".allReviewsPopupOpen"),reviewsPopup=document.querySelector(".allReviewsPopup"),reviewsBack=document.querySelector(".reviews-back"),setReview=document.querySelector(".setReview");openReviewsPopup.addEventListener("click",(function(e){e.preventDefault(),reviewsPopup.classList.toggle("d-block")})),setReview.addEventListener("click",(function(e){e.preventDefault(),reviewsPopup.classList.toggle("d-block")})),reviewsBack.addEventListener("click",(function(){reviewsPopup.classList.toggle("d-block")}));
>>>>>>> 9bae177fd0c5753f20d1f364c907193010be8755
>>>>>>> ad113f031376af0631d81ec721dc5d594ab858cc
