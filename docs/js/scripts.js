const reviewsArr=[{name:"Шамрай Артем",date:"30.12.2023",rate:"1",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"2",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"3",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"4",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."},{name:"Шамрай Артем",date:"30.12.2023",rate:"5",review:"В принципі за свої гроші доволі не поганий товар. Виглядають надійно як і по матеріалах так і як виконанні.Як будуть носитися ще подивимося, поки в місті майже 10 як для зими.З нюансів це вага. Трохи не дуже сучасно зараз але вибирав за ціною."}];function displayReviews(e,r){const i=document.querySelector(`.${r}`),s=Math.min(reviewsArr.length,e);for(let e=reviewsArr.length-1;e>=reviewsArr.length-s;e--){let r=reviewsArr[e].name,s=reviewsArr[e].date,n=reviewsArr[e].review,t=reviewsArr[e].rate,a="";for(let e=1;e<=5;e++)e<=parseFloat(t)?a+="<div class='star active'></div>":a+="<div class='star'></div>";let v=`\n            <div class="review-card">\n                <div class="review-block-hidden">\n                    <div class="flex-between items-center">\n                        <span>${r}</span>\n                        <span class="date">${s}</span>\n                    </div>\n                    <div class="stars flex">\n                        ${a}\n                    </div>\n                    <p>${n}</p>\n                </div>\n            </div>\n        `;i.insertAdjacentHTML("beforeend",v)}}document.addEventListener("DOMContentLoaded",(function(){displayReviews(5,"reviews-list"),displayReviews(reviewsArr.length,"reviews-popup-list")}));
function updateCartBtns(){console.log("")}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelector(".top-nav");e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("activemobile")}));const r=document.querySelector(".mobile-filter"),c=document.querySelector(".filter"),n=document.querySelector(".cancel-filter");document.querySelector(".active-filter");r.addEventListener("click",(function(e){e.preventDefault(),c.classList.add("active-filter")})),n.addEventListener("click",(function(){c.classList.remove("active-filter")}));const o=document.querySelectorAll(".select");o.forEach((e=>{const t=e.querySelector(".select__in"),r=e.querySelectorAll(".select__item"),c=e.querySelector(".select__input"),n=new Event("change");t.addEventListener("click",(()=>{o.forEach((t=>{t!==e&&t.classList.remove("is-opened")})),e.classList.toggle("is-opened")})),r.forEach((o=>{o.addEventListener("click",(()=>{c.value=o.dataset.value,c.dispatchEvent(n),t.innerHTML=o.innerHTML,r.forEach((e=>{e.classList.remove("is-active")})),o.classList.add("is-active"),e.classList.remove("is-opened")}))}))})),document.addEventListener("click",(e=>{e.target.closest(".select")||o.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),document.addEventListener("keyup",(e=>{"Escape"==e.key&&o.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),orders.orderSumWithNoDiscount=0,orders.orderSumWithDiscount=0,orders.orderSum=0;const i=document.querySelector(".card-bott"),a=document.querySelector(".filter-season"),s=document.querySelector(".popap-card"),d=document.querySelector(".same-card"),l=12;let u=1,p=1,m=[];function f(e){const t=(e-1)*l,r=t+l,c=m.slice(t,r);var n,o;n=c,(o=i).innerHTML="",n.forEach((e=>{const t=y(e);o.appendChild(t)}))}function y(e){const t=document.createElement("figure"),r=document.createElement("figcaption");if(""!==e.saleprice){const t=document.createElement("span"),c=100-100*parseFloat(e.price)/parseFloat(e.saleprice);t.classList.add("card-flag"),t.innerText=`sale -${c.toFixed(0)}%`,r.appendChild(t)}t.classList.add("card-box",e.category,e.color,e.model,e.material,e.style,e.size40,e.size41,e.size42,e.size43,e.size44,e.size45),t.appendChild(r);const c=document.createElement("a");c.classList.add("click-card"),c.href="#",c.setAttribute("data-value",e.id),c.addEventListener("click",(function(t){t.preventDefault(),function(e,t){if(t){const e=m.find((e=>e.id===t));e?(!function(){const e=document.querySelector(".choise-size_popap"),t=document.querySelector(".choise-color_popap"),r=document.querySelector(".same-card");e.innerHTML="";const c=document.querySelector(".color-form-popap");c&&c.parentNode===t&&t.removeChild(c);availableColors=[],r&&(r.innerHTML="")}(),function(e){const t=document.querySelector(".description-card_popap"),r=document.querySelector(".new-price-popap"),c=document.querySelector(".code-card_popap"),n=document.querySelector(".price-popap"),o=document.querySelector(".main-card-img"),i=document.querySelector(".small-img-first"),a=document.querySelector(".small-img-second"),l=document.querySelector(".small-img-last"),u=document.querySelector(".choise-color_popap");t.innerText=e.head,r.innerText=e.price,c.innerText=e.id,n.innerText=e.saleprice,o.src=e.img,o.alt=e.alt,i.src=e.imgPopap1,i.alt=e.altPopap1,a.src=e.imgPopap2,a.alt=e.altPopap2,l.src=e.imgPopap3,l.alt=e.altPopap3,s.setAttribute("data-value",e.id);const p=["40","41","42","43","44","45"],f=document.querySelector(".choise-size_popap");for(const t of p){const r=document.createElement("input");r.type="checkbox",r.id=`popup-input-${e.id}-${t}`,r.name="size-popap",r.value=t;const c=document.createElement("label");c.classList.add(`label${t}`),c.setAttribute("for",`popup-input-${e.id}-${t}`),c.innerText=`${t}`,r.disabled=!(`size${t}`in e),f.appendChild(r),f.appendChild(c)}const h=document.createElement("form");h.classList.add("color-form-popap"),u.appendChild(h);let v=[e.color,e.color1,e.color2].filter(Boolean);v.forEach((function(e){const t=e+"-popap",r=document.createElement("input");r.type="checkbox",r.id=t,r.name="color-popap",r.value=e;const c=document.createElement("label");c.htmlFor=t,h.appendChild(r),h.appendChild(c)}));const S=document.querySelector(".min-count_card"),q=document.querySelector(".max-count_card"),b=document.querySelector(".num-count-card");let g=1;const L=()=>{g<10&&(g++,b.innerText=g)},E=()=>{g>1&&(g--,b.innerText=g)};S.addEventListener("click",E),q.addEventListener("click",L);let k=e.color;const D=4;d.innerHTML="",function(e,t,r,c){let n=0;e.forEach((e=>{if(n<c&&t&&e.color===t){const t=y(e);r.appendChild(t),n++}})),updateCartBtns()}(m,k,d,D),document.querySelector(".cta-popap").setAttribute("data-value",e.id)}(e),s.style.display="grid"):console.error(`Товар з ID ${t} не знайдений.`)}else console.error("error")}(0,e.id),btnSimilar()})),r.appendChild(c);const n=document.createElement("img");n.src=e.img,n.alt=e.alt,r.appendChild(n);const o=document.createElement("h2");o.classList.add("header-card"),o.innerText=e.head,r.appendChild(o);const i=document.createElement("p");i.classList.add("old-price"),i.innerText=e.saleprice,r.appendChild(i);const a=document.createElement("p"),l=parseInt(e.price.replace(/\D/g,""));t.dataset.price=l,a.classList.add("new-price"),a.innerText=e.price,r.appendChild(a);const u=document.createElement("div");u.classList.add("input-block"),r.appendChild(u);const p=["40","41","42","43","44","45"];for(const t of p){const r=document.createElement("input");r.type="checkbox",r.name="size-radio",r.id=`input-${e.id}-${t}`,r.value=t;const c=document.createElement("label");c.classList.add(`label${t}`),c.setAttribute("for",`input-${e.id}-${t}`),c.innerText=`${t}`,r.disabled=!(`size${t}`in e),u.appendChild(r),u.appendChild(c)}const f=document.createElement("a");return f.classList.add("cta-card"),f.setAttribute("data-value",e.id),f.innerText=e.cta,f.href="#",r.appendChild(f),t}document.querySelector(".back-to-main").addEventListener("click",(function(e){e.preventDefault(),d.innerHTML="",s.style.display="none",updateCartBtns()}));const h=document.querySelectorAll(".card-cta-season"),v=["winter","summer","demiseason"],S=localStorage.getItem("lastSelectedCategory");function q(e){m.forEach((t=>{const r=document.querySelector(`.${t.category}`);r&&(r.style.display="#all"===e||e===`#${t.category}`?"block":"none")}))}a.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&(E=e.target.getAttribute("data-href"),localStorage.setItem("lastSelectedCategory",E),T(),q(E),f(u))}));function b(){var e=document.querySelector("#pagination");if(e.innerHTML="",p>1){e.appendChild(g("←","arrow-pag prev",(function(){u>1&&(u--,f(u),b(),L())})));const t=4,r=Math.floor(t/2),c=Math.max(1,u-r),n=Math.min(p,c+t-1);c>1&&(e.appendChild(g(1,"",(function(){u=1,f(u),b(),L()}))),c>2&&e.appendChild(g("...","ellipsis",(function(){}))));for(let t=c;t<=n;t++)!function(t){e.appendChild(g(t,t===u?"active":"",(function(){u=t,f(u),b(),L()})))}(t);n<p&&(n<p-1&&e.appendChild(g("...","ellipsis",(function(){}))),e.appendChild(g(p,"",(function(){u=p,f(u),b(),L()})))),e.appendChild(g("→","arrow-pag next",(function(){u<p&&(u++,f(u),b(),L())})))}}function g(e,t,r){const c=document.createElement("button");return c.innerText=e,c.className=t,c.onclick=r,c}function L(){const e=document.querySelector("#pagination").getElementsByTagName("button");for(var t=0;t<e.length;t++){parseInt(e[t].innerText)===u?(e[t].classList.add("current-page"),e[t].disabled=!0):(e[t].classList.remove("current-page"),e[t].disabled=!1)}}document.querySelector(".select__input").addEventListener("change",(function(){!function(e){const t=document.querySelector(".select__input");switch(parseInt(t.value)){case 2:e.sort(((e,t)=>parseFloat(t.price)-parseFloat(e.price)));break;case 3:e.sort(((e,t)=>parseFloat(e.price)-parseFloat(t.price)))}}(m);f(u),b(),L()})),fetch("products.json").then((e=>e.json())).then((e=>{m=e,p=Math.ceil(m.length/l),f(u),b(),q(E)})).catch((e=>console.error("Помилка завантаження даних:",e)));let E=S;h.forEach((e=>e.style.color="#191919")),S||(E="#all",localStorage.setItem("lastSelectedCategory",E));const k=document.querySelector(`[data-href="${E}"]`);function q(e){v.forEach((t=>{document.querySelectorAll(`.${t}`).forEach((r=>{r.style.display=e===`${t}`||"#all"===e?"block":"none"}))}))}function D(){const e=parseInt(document.querySelector(".input-min").value)||0,t=parseInt(document.querySelector(".input-max").value)||1e4,r=x("size"),c=x("color"),n=x("model"),o=x("season"),i=x("material"),a=x("style");v.forEach((s=>{document.querySelectorAll(`.${s}`).forEach((s=>{const d=C(s.classList,r)&&C(s.classList,c)&&C(s.classList,n)&&C(s.classList,o)&&C(s.classList,i)&&C(s.classList,a)&&function(e,t,r){const c=parseInt(e.dataset.price);return c>=t&&c<=r}(s,e,t);s.style.display=d?"grid":"none"}))}))}function x(e){return Array.from(document.querySelectorAll(`input[name="${e}"]:checked`)).map((e=>e.value))}function C(e,t){return 0===t.length||t.some((t=>e.contains(t)))}function T(){document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1})),document.querySelector(".input-min").value="0",document.querySelector(".input-max").value="10000",document.querySelector(".range-min").value="0",document.querySelector(".range-max").value="10000",document.querySelectorAll(".product-card").forEach((e=>{e.style.display="grid"})),D()}k&&(k.style.color="#fff",k.style.backgroundColor="#4E98B6"),v.forEach((e=>{document.querySelectorAll(`.${e}`).forEach((t=>{t.style.display=E===`${e}`||"#all"===E?"block":"none"}))})),h.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),h.forEach((e=>{e.style.color="#191919",e.style.backgroundColor="#fff"})),e.style.color="#fff",e.style.backgroundColor="#4E98B6";let r=t.target.getAttribute("data-href");localStorage.setItem("lastSelectedCategory",r),q(r)}))})),document.querySelector(".submit-filter").addEventListener("click",(function(e){e.preventDefault(),D()})),document.querySelector('button.cta-transparent.reset-filter[type="reset"]').addEventListener("click",(function(e){e.preventDefault(),T()}));const P=document.querySelectorAll(".slider-images img"),N=document.querySelector(".arr-left"),$=document.querySelector(".arr-right"),A=document.querySelectorAll(".slide-description");let W=0;function M(){A[W].classList.remove("active"),P[W].classList.remove("active"),W=(W+1)%P.length,P[W].classList.add("active"),A[W].classList.add("active")}M();let O=setInterval(M,3e3);N.addEventListener("click",(function(){clearInterval(O),A[W].classList.remove("active"),P[W].classList.remove("active"),W=(W-1+P.length)%P.length,P[W].classList.add("active"),A[W].classList.add("active"),O=setInterval(M,3e3)})),$.addEventListener("click",(function(){clearInterval(O),M(),O=setInterval(M,3e3)}));const I=document.querySelector(".cart"),B=document.querySelector("#basket-popup-outline"),_=document.querySelector(".basket-back"),z=document.querySelector("body");function j(){B.classList.toggle("d-block"),z.classList.toggle("hidden")}I.addEventListener("click",j),_.addEventListener("click",j);const w=document.querySelectorAll(".range-input input"),F=document.querySelectorAll(".price-input input"),H=document.querySelector(".slider .progress");let Q=1e3;F.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(F[0].value),r=parseInt(F[1].value);r-t>=Q&&r<=w[1].max&&("input-min"===e.target.className?(w[0].value=t,H.style.left=t/w[0].max*100+"%"):(w[1].value=r,H.style.right=100-r/w[1].max*100+"%"))}))})),w.forEach((e=>{e.addEventListener("input",(e=>{let t=parseInt(w[0].value),r=parseInt(w[1].value);r-t<Q?"range-min"===e.target.className?w[0].value=r-Q:w[1].value=t+Q:(F[0].value=t,F[1].value=r,H.style.left=t/w[0].max*100+"%",H.style.right=100-r/w[1].max*100+"%")}))}));let J=document.querySelector(".img-carousel"),R=document.querySelectorAll(".step-block");const U=document.querySelectorAll(".img-carousel img");!function(){let e=0;R.forEach((function(t){e+=t.getBoundingClientRect().height})),window,innerHeight>=960&&(J.style.height=e+40+"px")}();let G=0;setInterval((function(){U[G].classList.remove("active"),G=(G+1)%U.length,U[G].classList.add("active")}),3e3)}));let orderDetailSum=document.querySelector(".order-total-price"),orderWithDiscountPrice=document.querySelector(".price-totally b"),orderWithDiscountPriceCalc=0,numberOfProductsDOM=document.querySelector(".calc-added-products"),caclnumberOfProducts=0,addedProductsList=document.querySelector(".added-products-list "),orderDiscount=document.querySelector(".order-discount"),orderDiscountCalc=0;orders={};const cartWaitTimeout=setTimeout((function(){cart()}),1e3);function buyBtnFunc(e,t,r){let c=e.dataset.value;fetch("products.json").then((e=>e.json())).then((e=>{const n=e.find((e=>e.id===c));""===n.saleprice&&(n.saleprice=n.price);for(let e=0;e<t.length;e++)if(orders[c+t[e]])if(r)for(let e=r;e>0;e--)orders[c+t[e]],console.log(c),console.log(t),document.querySelector(".plus-quantity[data-value='"+c+t[e]+"']").click();else t.length>1?document.querySelector(".plus-quantity[data-value='"+c+t[e]+"']").click():document.querySelector(".plus-quantity[data-value='"+c+t[0]+"']").click();else orders[c+t[e]]={product:n,quantity:r?Number(r):1},t&&(orders[c+t[e]].size=t[e]),orders.orderSumWithNoDiscount+=""!=orders[c+t[e]].product.saleprice?Number(orders[c+t[e]].product.saleprice.slice(0,-4))*orders[c+t[e]].quantity:0,orders.orderSumWithDiscount+=Number(orders[c+t[e]].product.price.slice(0,-4))*orders[c+t[e]].quantity,updateCart(c,orders[c+t[e]].size),plusBtn(".plus-quantity[data-value='"+c+t[e]+"']"),minBtn(".minus-quantity[data-value='"+c+t[e]+"']"),caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=(Number(orders[c+t[e]].product.saleprice.slice(0,-4))-Number(orders[c+t[e]].product.price.slice(0,-4)))*orders[c+t[e]].quantity,orderDiscount.innerText=orderDiscountCalc*orders[c+t[e]].quantity,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount}))}function updateCart(e,t){fetch("products.json").then((e=>e.json())).then((r=>{const c=r.find((t=>t.id===e)),n=document.createElement("div");n.innerHTML=`\n                    <div class="basket-card flex-between" data-value=${c.id+""+t}>\n                        <img src=${c.img}>\n                        \n                        <div class="w-100 flex-between items-center">\n                            <div class="description">\n                                <div>\n                                    <h3>${c.head}</h3>\n                                    <table>\n                                        <tr>\n                                            <td>колір</td>\n                                            <td>${c.color}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>розмір</td>\n                                            <td class="size-span">${t}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>ціна</td>\n                                            <td>${c.price} <span>${c.saleprice}</span></td>\n                                        </tr>\n                                        <tr>\n                                            <td>кількість</td>\n                                            <td>\n                                                <div class="quantity flex">\n                                                    <div class="minus-quantity" data-value="${c.id+""+t}">-</div>\n                                                    <div class="quantity-number">${orders[c.id+t].quantity}</div>\n                                                    <div class="plus-quantity" data-value="${c.id+""+t}">+</div>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                    <div class="delete-product">видалити товар</div>\n                                </div>\n                            </div>\n                            <div class="total-price">\n                                <span>${Number(orders[c.id+t].product.price.slice(0,-4))*orders[c.id+t].quantity+" грн"}</span>\n                            </div>\n                        </div>\n                    </div>\n                `,addedProductsList.appendChild(n)}))}function cart(){if(document.querySelectorAll(".cta-card")){clearInterval(cartWaitTimeout);document.querySelectorAll(".cta-card"),document.querySelector("#orderConfirmProductsQuantity");document.querySelectorAll(".cta-card").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),c=[];document.querySelectorAll(`input[type="checkbox"][id^="input-${r}"]:checked`).forEach((e=>{c.push(e.value)})),buyBtnFunc(e,c)}))})),document.querySelectorAll(".cta-popap").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const r=this.getAttribute("data-value"),c=[];document.querySelectorAll(`input[type="checkbox"][id^="popup-input-${r}"]:checked`).forEach((e=>{c.push(e.value)}));let n=document.querySelector('.popap-card[data-value="'+r+'"] .quantity-number');buyBtnFunc(e,c,n.innerText)}))}))}}const inputMask=document.querySelector(".inputMask");function plusBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=this.dataset.value.slice(0,-2);t.find((e=>e.id===r));const c=e;if(orders[c]){orders[c].quantity+=1;const t=addedProductsList.querySelector('[data-value="'+e+'"] .total-price span'),r=addedProductsList.querySelector('[data-value="'+e+'"] .quantity-number');t.innerText=orders[c].product.price.slice(0,-4)*orders[c].quantity+" грн",r.innerText=orders[c].quantity,orders.orderSumWithNoDiscount+=0!==orders[c].product.saleprice?Number(orders[c].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount+=Number(orders[c].product.price.slice(0,-4))}orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,caclnumberOfProducts++,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDiscountCalc+=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}))}))}function minBtn(e){fetch("products.json").then((e=>e.json())).then((t=>{document.querySelector(e).addEventListener("click",(function(){let e=this.dataset.value,r=e.slice(0,-2);t.find((e=>e.id===r));const c=e;if(orders[c]&&1!==orders[c].quantity){orders[c].quantity-=1;const t=addedProductsList.querySelector('[data-value="'+c+'"] .total-price span'),n=addedProductsList.querySelector('[data-value="'+c+'"] .quantity-number');orders[c].totalPrice=Number(orders[c].product.price.slice(0,-4))*orders[c].quantity,t.innerText=orders[c].totalPrice+" грн",n.innerText=orders[c].quantity,orders.orderSumWithNoDiscount-=""!=orders[c].product.saleprice?Number(orders[c].product.saleprice.slice(0,-4)):0,orders.orderSumWithDiscount-=Number(orders[c].product.price.slice(0,-4)),1!==n&&caclnumberOfProducts--,numberOfProductsDOM.innerText=caclnumberOfProducts,orderDetailSum.innerText=0!=orders.orderSumWithNoDiscount?orders.orderSumWithNoDiscount:orders.orderSumWithDiscount,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,orderDiscountCalc-=Number(orders[r+e.slice(-2)].product.saleprice.slice(0,-4))-Number(orders[r+e.slice(-2)].product.price.slice(0,-4)),orderDiscount.innerText=orderDiscountCalc}}))}))}function sendData(e){const t=JSON.stringify(e);document.querySelector("#orderProductsObject").value=t}function btnSimilar(){document.querySelectorAll(".popap-card .cta-card").forEach((function(e){e.addEventListener("click",(function(){let t=this.dataset.value,r=[];document.querySelectorAll(`.popap-card input[type="checkbox"][id^="input-${t}"]:checked`).forEach((e=>{r.push(e.value)})),buyBtnFunc(e,r)}))}))}inputMask.value="+38",inputMask.addEventListener("input",(function(){let e=inputMask.value;e.length>13?inputMask.value=e.slice(0,13):e.startsWith("+38")||(inputMask.value="+38"+e.slice(3))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".cta-card").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".plus-quantity");plusBtn()}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){if(e.target.classList.contains("delete-product")){const t=e.target.closest(".basket-card"),r=t.dataset.value;if(orders[r]){orders[r].size;caclnumberOfProducts-=orders[r].quantity,numberOfProductsDOM.innerText=caclnumberOfProducts,orders.orderSumWithNoDiscount-=Number(orders[r].product.saleprice.slice(0,-4))*orders[r].quantity,orderDetailSum.innerText=orders.orderSumWithNoDiscount,orderDiscountCalc-=(Number(orders[r].product.saleprice.slice(0,-4))-Number(orders[r].product.price.slice(0,-4)))*orders[r].quantity,orderDiscount.innerText=orderDiscountCalc,orders.orderSumWithDiscount-=Number(orders[r].product.price.slice(0,-4))*orders[r].quantity,orderWithDiscountPrice.innerText=orders.orderSumWithDiscount,delete orders[r],t.remove()}}}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#openConfirmPopup"),t=document.querySelector("#popup-confirm-outline"),r=document.querySelector(".confirm-back");e.addEventListener("click",(function(){if(Object.keys(orders).length>3){t.classList.toggle("d-block"),sendData(orders);let e=document.querySelector("#confirmPrice"),r=document.querySelector("#confirmTotalPrice");orderConfirmProductsQuantity.innerText=caclnumberOfProducts+" ",r.innerText=orders.orderSumWithDiscount+" грн",e.innerText=orders.orderSumWithDiscount+" грн"}})),r.addEventListener("click",(function(){t.classList.toggle("d-block")}))}));
